{"version":3,"file":"js/app.71714441.js","mappings":"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","sources":["webpack://editor/./src/App.vue","webpack://editor/./src/App.vue?7ccd","webpack://editor/./src/views/home/index.vue","webpack://editor/./src/core/components/image-element.vue","webpack://editor/./src/core/utils/create-bem.js","webpack://editor/./src/core/components/border.vue","webpack://editor/./src/core/utils/constants.js","webpack://editor/./src/core/components/border.vue?228d","webpack://editor/./src/core/components/image-element.vue?4a89","webpack://editor/./src/core/components/group-element.vue","webpack://editor/./src/core/components/text-element.vue","webpack://editor/./src/core/components/text-element.vue?9616","webpack://editor/./src/core/components/group-element.vue?eb4c","webpack://editor/./src/core/utils/services/adsorption-line.js","webpack://editor/./src/core/utils/collection.js","webpack://editor/./src/core/utils/services/selection.js","webpack://editor/./src/core/mesh/element.js","webpack://editor/./src/core/mesh/image-element.js","webpack://editor/./src/core/mesh/text-element.js","webpack://editor/./src/core/mesh/group-element.js","webpack://editor/./src/core/utils/services/mesh-transform.js","webpack://editor/./src/core/utils/handles/drag-mesh-scale.js","webpack://editor/./src/core/utils/handles/group.js","webpack://editor/./src/core/utils/handles/dbclick-mesh.js","webpack://editor/./src/views/home/index.vue?ed4e","webpack://editor/./src/router/index.js","webpack://editor/./src/store/index.js","webpack://editor/./src/main.js","webpack://editor/webpack/bootstrap","webpack://editor/webpack/runtime/chunk loaded","webpack://editor/webpack/runtime/compat get default export","webpack://editor/webpack/runtime/define property getters","webpack://editor/webpack/runtime/global","webpack://editor/webpack/runtime/hasOwnProperty shorthand","webpack://editor/webpack/runtime/jsonp chunk loading","webpack://editor/webpack/startup"],"sourcesContent":["<template>\n    <router-view />\n</template>\n\n<style>\n* {\n    margin: 0;\n    box-sizing: border-box;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=5381e3b2\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=5381e3b2&lang=css\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"home-view\">\n        <div class=\"home-view__header\">\n            <img\n                class=\"home-view__logo\"\n                src=\"https://st0.dancf.com/static/02/202301130825-f513.png\"\n            />\n            <button @click=\"handleDownload\">下载</button>\n        </div>\n        <div class=\"home-view__body\">\n            <div class=\"home-view__left\">\n                <button @click=\"handleAddMesh\">添加素材</button>\n            </div>\n\n            <div class=\"home-view__content\">\n                <div class=\"home-view__editor\" ref=\"parent\">\n                    <template v-for=\"(element, i) in elements\" :key=\"i\">\n                        <ImageElementComponent\n                            v-if=\"element.elementType === 'image'\"\n                            v-bind=\"element.state\"\n                            @drag-before=\"(v) => handleMousedown(v, element)\"\n                            @change-Image=\"(v) => handleChangeImage(v, element)\"\n                            @mouseenter=\"(v) => handleHover(v, element)\"\n                            @mouseleave=\"(v) => handleUnHover(v, element)\"\n                            @focus=\"(v) => handleFocus(v, element)\"\n                        />\n\n                        <TextElementComponent\n                            v-else-if=\"element.elementType === 'text'\"\n                            v-bind=\"element.state\"\n                            @drag-before=\"(v) => handleMousedown(v, element)\"\n                            @start-change-text=\"\n                                (v) => handleStartChangeText(v, element)\n                            \"\n                            @change-text=\"(v) => handleChangeText(v, element)\"\n                            @mouseenter=\"(v) => handleHover(v, element)\"\n                            @mouseleave=\"(v) => handleUnHover(v, element)\"\n                            @focus=\"(v) => handleFocus(v, element)\"\n                        />\n\n                        <GroupElementComponent\n                            v-else-if=\"element.elementType === 'group'\"\n                            v-bind=\"element.state\"\n                            @drag-before=\"(v) => handleMousedown(v, element)\"\n                            @mouseenter=\"(v) => handleHover(v, element)\"\n                            @mouseleave=\"(v) => handleUnHover(v, element)\"\n                            @focus=\"(v) => handleFocus(v, element)\"\n                        />\n                    </template>\n                </div>\n            </div>\n\n            <div class=\"home-view__right\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ImageElementComponent from \"../../core/components/image-element.vue\";\nimport GroupElementComponent from \"../../core/components/group-element.vue\";\nimport TextElementComponent from \"../../core/components/text-element.vue\";\n\nimport { onMounted, ref, reactive } from \"vue\";\nimport { AdsorptionLine } from \"../../core/utils/services/adsorption-line\";\nimport { Selection } from \"../../core/utils/services/selection\";\nimport { ImageElement } from \"../../core/mesh/image-element\";\nimport { TextElement } from \"../../core/mesh/text-element\";\nimport { GroupElement } from \"../../core/mesh/group-element\";\n\nimport { MeshTransform } from \"../../core/utils/services/mesh-transform\";\nimport {\n    handleDragMeshScale,\n    handleDragMeshXScale,\n    handleDragMeshYScale\n} from \"../../core/utils/handles/drag-mesh-scale\";\nimport { handleGroupSize } from \"../../core/utils/handles/group\";\nimport { loadImage } from \"../../core/utils/handles/dbclick-mesh\";\n\nexport default {\n    name: \"home-view\",\n    components: {\n        ImageElementComponent,\n        GroupElementComponent,\n        TextElementComponent\n    },\n    setup() {\n        const elements = reactive([]);\n        const parent = ref(null);\n        let adsorptionLine, selection;\n        const meshTransform = new MeshTransform();\n\n        onMounted(() => {\n            elements.push(\n                new ImageElement({\n                    imgSrc: \"https://st-gdx.dancf.com/gaodingx/4323/configs/system/20210728-095726-adc9.svg\",\n                    width: 100,\n                    height: 100,\n                    x: 0,\n                    y: 0\n                }),\n                new ImageElement({\n                    imgSrc: \"https://st-gdx.dancf.com/gaodingx/4323/configs/system/20210728-095726-adc9.svg\",\n                    width: 50,\n                    height: 100,\n                    x: 100,\n                    y: 100\n                }),\n                new TextElement({\n                    text: \"我是文字，，，a#￥！#%%……￥aaa hello aa的的\",\n                    width: 200,\n                    height: 100,\n                    x: 100,\n                    y: 200\n                })\n            );\n\n            adsorptionLine = new AdsorptionLine({\n                width: parent.value.offsetWidth,\n                height: parent.value.offsetHeight,\n                $parent: parent.value\n            });\n\n            selection = new Selection({\n                width: parent.value.offsetWidth,\n                height: parent.value.offsetHeight,\n                $parent: parent.value\n            });\n        });\n\n        let mouseDownElement = null;\n        let mouseDownData = null;\n        let textElement = null;\n        let mousedown = false;\n\n        function handleFocus(v, currentElement) {\n            currentElement.focus();\n        }\n\n        function handleMousedown(v, currentElement) {\n            mouseDownElement = currentElement;\n            mouseDownData = v;\n\n            // // 置顶\n            // for (let i = 0; i < elements.length; i++) {\n            //     const element = elements[i];\n            //     if (element === currentElement) {\n            //         element.setZIndex(1);\n            //     } else {\n            //         element.setZIndex(null);\n            //     }\n            // }\n        }\n\n        function handleHover(_, currentElement) {\n            currentElement.hover();\n        }\n\n        function handleUnHover(_, currentElement) {\n            currentElement.unHover();\n        }\n\n        let prevMousedownLeft = 0,\n            prevMousedownTop = 0;\n\n        let dragTransformElement = null;\n        let dragScaleElement = null;\n        let dragScaleXElement = null;\n        let dragScaleYElement = null;\n\n        document.addEventListener(\"mousedown\", (e) => {\n            const mouse = {\n                x: e.clientX - parent.value.offsetLeft,\n                y: e.clientY - parent.value.offsetTop\n            };\n\n            for (let i = 0; i < elements.length; i++) {\n                const element = elements[i];\n\n                // 结束编辑\n                if (textElement && textElement !== mouseDownElement) {\n                    textElement.endEdit();\n                    textElement = null;\n                }\n\n                if (element !== mouseDownElement) {\n                    element.blur();\n\n                    // 存在临时组则解开\n                    if (\n                        element.elementType === \"group\" &&\n                        element.state.temporary\n                    ) {\n                        for (\n                            let j = 0;\n                            j < element.state.children.length;\n                            j++\n                        ) {\n                            const child = element.state.children[j];\n                            child.setPosition(\n                                child.state.x + element.state.x,\n                                child.state.y + element.state.y\n                            );\n                            child.operable();\n                            elements.push(child);\n                        }\n\n                        elements.splice(i, 1);\n                        i--;\n                    }\n                }\n            }\n\n            mousedown = true;\n            selection.ready({ originX: mouse.x, originY: mouse.y });\n        });\n\n        document.addEventListener(\"mousemove\", (e) => {\n            const mouse = {\n                movementX: e.clientX - prevMousedownLeft,\n                movementY: e.clientY - prevMousedownTop,\n                x: e.clientX - parent.value.offsetLeft,\n                y: e.clientY - parent.value.offsetTop,\n                target: e.target\n            };\n            prevMousedownLeft = e.clientX;\n            prevMousedownTop = e.clientY;\n\n            if (mousedown) {\n                if (!mouseDownElement) {\n                    // 更新框选层的样式\n                    selection.update({\n                        x: mouse.x,\n                        y: mouse.y,\n                        targetElements: elements\n                    });\n                } else {\n                    // 拖拽mesh做xy轴缩放\n                    if (dragScaleElement) {\n                        handleDragMeshScale(dragScaleElement, mouse);\n                    }\n                    // 拖拽mesh做x轴缩放\n                    else if (dragScaleXElement) {\n                        handleDragMeshXScale(dragScaleXElement, mouse);\n                    }\n                    // 拖拽mesh做y轴缩放\n                    else if (dragScaleYElement) {\n                        handleDragMeshYScale(dragScaleYElement, mouse);\n                    }\n                    // 拖拽mesh做移动\n                    else if (dragTransformElement) {\n                        meshTransform.handleDragMeshTransform({\n                            mesh: dragTransformElement,\n                            mouse,\n                            onTransform() {\n                                // 更新吸附线\n                                const { x, y, xType, yType } =\n                                    adsorptionLine.update({\n                                        originElement: dragTransformElement,\n                                        targetElements: elements\n                                    });\n                                return {\n                                    x,\n                                    y,\n                                    xType,\n                                    yType\n                                };\n                            }\n                        });\n                    } else {\n                        const { type } = mouseDownData;\n                        switch (type) {\n                            case \"content\":\n                                dragTransformElement = mouseDownElement;\n                                break;\n                            case \"scale-xy\":\n                                dragScaleElement = mouseDownElement;\n                                break;\n                            case \"scale-x\":\n                                dragScaleXElement = mouseDownElement;\n                                break;\n                            case \"scale-y\":\n                                dragScaleYElement = mouseDownElement;\n                                break;\n                        }\n                    }\n                }\n            }\n        });\n\n        document.addEventListener(\"mouseup\", () => {\n            mousedown = false;\n            mouseDownElement = null;\n            mouseDownData = null;\n            dragTransformElement = null;\n            dragScaleElement = null;\n            dragScaleXElement = null;\n            dragScaleYElement = null;\n\n            meshTransform.clear();\n            selection.clear();\n            adsorptionLine.clear();\n\n            const collectElements = selection.getCollectElements();\n            if (collectElements.length) {\n                const { x, y, width, height } =\n                    handleGroupSize(collectElements);\n                const group = new GroupElement({\n                    x,\n                    y,\n                    width,\n                    height,\n                    children: collectElements\n                });\n\n                for (let i = 0; i < collectElements.length; i++) {\n                    const collectElement = collectElements[i];\n                    for (let j = 0; j < elements.length; j++) {\n                        const element = elements[j];\n                        if (element === collectElement) {\n                            element.setPosition(\n                                element.state.x - x,\n                                element.state.y - y\n                            );\n                            element.unHover();\n                            element.inoperable();\n                            element.blur();\n                            elements.splice(j, 1);\n                            j--;\n                        }\n                    }\n                }\n                group.temporary();\n                group.focus();\n                elements.push(group);\n            }\n        });\n\n        async function handleChangeImage(_, currentElement) {\n            const { width, height, src } = await loadImage();\n            currentElement.setWidth(width);\n            currentElement.setHeight(height);\n            currentElement.setImgSrc(src);\n        }\n\n        function handleStartChangeText(_, currentElement) {\n            textElement = currentElement;\n            currentElement.startEdit();\n        }\n\n        function handleChangeText(value, currentElement) {\n            currentElement.setText(value);\n        }\n\n        function handleAddMesh() {}\n\n        function handleDownload() {}\n\n        return {\n            parent,\n            elements,\n\n            handleChangeImage,\n            handleStartChangeText,\n            handleChangeText,\n            handleFocus,\n            handleMousedown,\n            handleHover,\n            handleUnHover,\n            handleAddMesh,\n            handleDownload\n        };\n    }\n};\n</script>\n\n<style lang=\"less\">\n.home-view {\n    &__header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 54px;\n        background-color: #fff;\n        border-bottom: 2px solid #eef2f8;\n        padding: 0 24px;\n    }\n\n    &__logo {\n        height: 30px;\n    }\n\n    &__body {\n        display: flex;\n        height: calc(100vh - 54px);\n    }\n\n    &__content {\n        flex: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: #f1f2f4;\n        height: 100%;\n    }\n\n    &__left {\n        width: 200px;\n        height: 100%;\n        background: #fff;\n        border-right: 2px solid #eef2f8;\n        padding: 24px;\n    }\n\n    &__right {\n        width: 276px;\n        height: 100%;\n        background: #fff;\n        border-left: 2px solid #eef2f8;\n        padding: 24px;\n    }\n\n    &__editor {\n        width: 400px;\n        height: 600px;\n        position: relative;\n        border: 1px solid #eee;\n        box-shadow: 1px 1px 15px rgb(0 0 0 / 20%);\n\n        // canvas:first-of-type {\n        //     background-color: #fff;\n        //     background-image: linear-gradient(\n        //             to top right,\n        //             #ccc 25%,\n        //             transparent 0,\n        //             transparent 75%,\n        //             #ccc 0,\n        //             #ccc\n        //         ),\n        //         linear-gradient(\n        //             to top right,\n        //             #ccc 25%,\n        //             transparent 0,\n        //             transparent 75%,\n        //             #ccc 0,\n        //             #ccc\n        //         );\n        //     background-position: 0 0, 8px 8px;\n        //     background-size: 16px 16px;\n        //     overflow: hidden;\n        //     user-select: none;\n        // }\n\n        canvas {\n            display: block;\n            overflow: hidden;\n            user-select: none;\n        }\n    }\n}\n</style>\n","<template>\n    <Border\n        :class=\"bem()\"\n        :visibleBox=\"visibleBox\"\n        :visibleBoxScale=\"visibleBoxScale\"\n        :style=\"style\"\n        @mousedown-scale=\"(v) => $emit('drag-before', v)\"\n    >\n        <div\n            :class=\"bem('content')\"\n            @mousedown=\"(e) => $emit('drag-before', { type: 'content', e })\"\n            @click=\"(e) => $emit('focus', { type: 'content', e })\"\n            @dblclick=\"(e) => $emit('change-image', { type: 'content', e })\"\n        >\n            <img :src=\"imgSrc\" v-if=\"imgSrc\" />\n        </div>\n    </Border>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { createNamespace } from \"../utils/create-bem\";\nimport Border from \"./border.vue\";\n\nconst [name, bem] = createNamespace(\"image-element\");\n\nexport default defineComponent({\n    name,\n    components: {\n        Border\n    },\n    props: {\n        width: {\n            type: Number,\n            default: 0\n        },\n        height: {\n            type: Number,\n            default: 0\n        },\n        x: {\n            type: Number,\n            default: 0\n        },\n        y: {\n            type: Number,\n            default: 0\n        },\n        zIndex: {\n            type: Number,\n            default: null\n        },\n        imgSrc: {\n            type: String,\n            default: \"\"\n        },\n        hover: {\n            type: Boolean,\n            default: false\n        },\n        focus: {\n            type: Boolean,\n            default: false\n        },\n        operable: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        const visibleBox = computed(() => props.hover || props.focus);\n        const visibleBoxScale = computed(() => props.focus && props.operable);\n\n        const style = computed(() => {\n            return {\n                width: props.width + \"px\",\n                height: props.height + \"px\",\n                transform: `translate(${props.x}px, ${props.y}px)`,\n                zIndex: props.zIndex\n            };\n        });\n\n        return {\n            visibleBox,\n            visibleBoxScale,\n\n            style,\n            bem\n        };\n    }\n});\n</script>\n\n<style lang=\"less\">\n.image-element {\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    &__content {\n        width: 100%;\n        height: 100%;\n    }\n\n    img {\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        user-select: none;\n        -webkit-user-drag: none;\n    }\n}\n</style>\n","const camelizeRE = /-(\\w)/g;\n\nexport const camelize = (str) =>\n    str.replace(camelizeRE, (_, c) => c.toUpperCase());\n\nfunction genBem(name, mods) {\n    if (!mods) {\n        return \"\";\n    }\n\n    if (typeof mods === \"string\") {\n        return ` ${name}--${mods}`;\n    }\n\n    if (Array.isArray(mods)) {\n        return mods.reduce((ret, item) => ret + genBem(name, item), \"\");\n    }\n\n    return Object.keys(mods).reduce(\n        (ret, key) => ret + (mods[key] ? genBem(name, key) : \"\"),\n        \"\"\n    );\n}\n\n/**\n * bem helper\n * b() // 'button'\n * b('text') // 'button__text'\n * b({ disabled }) // 'button button--disabled'\n * b('text', { disabled }) // 'button__text button__text--disabled'\n * b(['disabled', 'primary']) // 'button button--disabled button--primary'\n */\nexport function createBEM(name) {\n    return (el, mods) => {\n        if (el && typeof el !== \"string\") {\n            mods = el;\n            el = \"\";\n        }\n\n        el = el ? `${name}__${el}` : name;\n\n        return `${el}${genBem(el, mods)}`;\n    };\n}\n\nexport function createNamespace(name) {\n    const prefixedName = name;\n    return [prefixedName, createBEM(prefixedName)];\n}\n","<template>\n    <div\n        :class=\"\n            bem({\n                'visible-box': visibleBox\n            })\n        \"\n    >\n        <slot />\n\n        <template v-if=\"visibleBox && visibleBoxScale\">\n            <div\n                :class=\"bem('circular', 'left-top')\"\n                @mousedown=\"$emit('mousedown-scale', { type: 'scale-xy', e })\"\n            />\n            <div\n                :class=\"bem('circular', 'right-top')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-xy', e })\n                \"\n            />\n            <div\n                :class=\"bem('circular', 'right-bottom')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-xy', e })\n                \"\n            />\n            <div\n                :class=\"bem('circular', 'left-bottom')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-xy', e })\n                \"\n            />\n\n            <div\n                :class=\"bem('rect', 'top')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-y', e })\n                \"\n            />\n            <div\n                :class=\"bem('rect', 'right')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-x', e })\n                \"\n            />\n            <div\n                :class=\"bem('rect', 'bottom')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-y', e })\n                \"\n            />\n            <div\n                :class=\"bem('rect', 'left')\"\n                @mousedown=\"\n                    (e) => $emit('mousedown-scale', { type: 'scale-x', e })\n                \"\n            />\n        </template>\n    </div>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport { createNamespace } from \"../utils/create-bem\";\nimport {\n    BORDER_CIRCULAR_SIZE,\n    BORDER_WIDTH,\n    BORDER_RECT_WIDTH,\n    BORDER_RECT_HEIGHT\n} from \"../utils/constants\";\n\nconst [name, bem] = createNamespace(\"border\");\n\nexport default defineComponent({\n    name,\n    props: {\n        visibleBox: {\n            type: Boolean,\n            default: false\n        },\n        visibleBoxScale: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup() {\n        return {\n            bem,\n            BORDER_WIDTH,\n            BORDER_CIRCULAR_SIZE,\n            BORDER_RECT_WIDTH,\n            BORDER_RECT_HEIGHT\n        };\n    }\n});\n</script>\n\n<style lang=\"less\">\n@b: border;\n@BORDER_RECT_WIDTH: 16px;\n@BORDER_RECT_HEIGHT: 8px;\n@BORDER_WIDTH: 2px;\n@BORDER_CIRCULAR_SIZE: 10px;\n@BORDER_CIRCULAR_RADIUS: 5px;\n.@{b} {\n    &--visible-box {\n        box-shadow: 0 0 0 @BORDER_WIDTH blue;\n    }\n\n    &__circular {\n        width: @BORDER_CIRCULAR_SIZE;\n        height: @BORDER_CIRCULAR_SIZE;\n        position: absolute;\n        border: 1px solid #ccc;\n        background: #fff;\n        border-radius: 50%;\n        z-index: 9;\n\n        &--left-top {\n            left: -@BORDER_CIRCULAR_RADIUS;\n            top: -@BORDER_CIRCULAR_RADIUS;\n        }\n\n        &--right-top {\n            right: -@BORDER_CIRCULAR_RADIUS;\n            top: -@BORDER_CIRCULAR_RADIUS;\n        }\n\n        &--right-bottom {\n            right: -@BORDER_CIRCULAR_RADIUS;\n            bottom: -@BORDER_CIRCULAR_RADIUS;\n        }\n\n        &--left-bottom {\n            left: -@BORDER_CIRCULAR_RADIUS;\n            bottom: -@BORDER_CIRCULAR_RADIUS;\n        }\n    }\n\n    &__rect {\n        position: absolute;\n        border: 1px solid #ccc;\n        background: #fff;\n        border-radius: 2px;\n        z-index: 9;\n\n        &--top {\n            width: @BORDER_RECT_WIDTH;\n            height: @BORDER_RECT_HEIGHT;\n            left: 50%;\n            transform: translateX(-50%);\n            top: calc(-@BORDER_RECT_HEIGHT / 2);\n        }\n\n        &--right {\n            width: @BORDER_RECT_HEIGHT;\n            height: @BORDER_RECT_WIDTH;\n            top: 50%;\n            transform: translateY(-50%);\n            right: calc(-@BORDER_RECT_HEIGHT / 2 - @BORDER_WIDTH / 2);\n        }\n\n        &--bottom {\n            width: @BORDER_RECT_WIDTH;\n            height: @BORDER_RECT_HEIGHT;\n            left: 50%;\n            transform: translateX(-50%);\n            bottom: calc(-@BORDER_RECT_HEIGHT / 2);\n        }\n\n        &--left {\n            width: @BORDER_RECT_HEIGHT;\n            height: @BORDER_RECT_WIDTH;\n            top: 50%;\n            transform: translateY(-50%);\n            left: calc(-@BORDER_RECT_HEIGHT / 2 - @BORDER_WIDTH / 2);\n        }\n    }\n}\n</style>\n","// 吸附距离\nexport const ADSORPTION_DISTANCE = 5;\n\n// 脱离吸附距离\nexport const BREAK_ADSORPTION_DISTANCE = 10;\n\nexport const BORDER_WIDTH = 1;\n\n// 边框圆形\nexport const BORDER_CIRCULAR_SIZE = 10;\n\nexport const BORDER_RECT_WIDTH = 16;\n\nexport const BORDER_RECT_HEIGHT = 10;\n","import { render } from \"./border.vue?vue&type=template&id=242746c4\"\nimport script from \"./border.vue?vue&type=script&lang=js\"\nexport * from \"./border.vue?vue&type=script&lang=js\"\n\nimport \"./border.vue?vue&type=style&index=0&id=242746c4&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./image-element.vue?vue&type=template&id=5b803a72\"\nimport script from \"./image-element.vue?vue&type=script&lang=js\"\nexport * from \"./image-element.vue?vue&type=script&lang=js\"\n\nimport \"./image-element.vue?vue&type=style&index=0&id=5b803a72&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <Border\n        :class=\"bem()\"\n        :visibleBox=\"visibleBox\"\n        :visibleBoxScale=\"visibleBoxScale\"\n        :style=\"style\"\n        @mousedown-scale=\"(v) => $emit('drag-before', v)\"\n    >\n        <div\n            :class=\"bem('content')\"\n            @mousedown=\"(e) => $emit('drag-before', { type: 'content', e })\"\n            @click=\"(e) => $emit('focus', { type: 'content', e })\"\n        >\n            <template v-for=\"(element, i) in children\" :key=\"i\">\n                <ImageElement\n                    v-if=\"element.elementType === 'image'\"\n                    v-bind=\"element.state\"\n                />\n                <TextElement\n                    v-else-if=\"element.elementType === 'text'\"\n                    v-bind=\"element.state\"\n                />\n            </template>\n        </div>\n    </Border>\n</template>\n\n<script>\nimport { defineComponent, computed } from \"vue\";\nimport { createNamespace } from \"../utils/create-bem\";\nimport Border from \"./border.vue\";\nimport ImageElement from \"./image-element.vue\";\nimport TextElement from \"./text-element.vue\";\n\nconst [name, bem] = createNamespace(\"group-element\");\n\nexport default defineComponent({\n    name,\n    components: {\n        Border,\n        ImageElement,\n        TextElement\n    },\n    props: {\n        width: {\n            type: Number,\n            default: 0\n        },\n        height: {\n            type: Number,\n            default: 0\n        },\n        x: {\n            type: Number,\n            default: 0\n        },\n        y: {\n            type: Number,\n            default: 0\n        },\n        zIndex: {\n            type: Number,\n            default: null\n        },\n        hover: {\n            type: Boolean,\n            default: false\n        },\n        focus: {\n            type: Boolean,\n            default: false\n        },\n        operable: {\n            type: Boolean,\n            default: true\n        },\n        children: {\n            type: Array,\n            default: () => []\n        }\n    },\n    setup(props) {\n        const visibleBox = computed(() => props.hover || props.focus);\n        const visibleBoxScale = computed(() => props.focus && props.operable);\n\n        const style = computed(() => {\n            return {\n                width: props.width + \"px\",\n                height: props.height + \"px\",\n                transform: `translate(${props.x}px, ${props.y}px)`,\n                zIndex: props.zIndex\n            };\n        });\n\n        return {\n            visibleBox,\n            visibleBoxScale,\n\n            style,\n            bem\n        };\n    }\n});\n</script>\n\n<style lang=\"less\">\n.group-element {\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    &__content {\n        width: 100%;\n        height: 100%;\n    }\n\n    img {\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        user-select: none;\n        -webkit-user-drag: none;\n    }\n}\n</style>\n","<template>\n    <Border\n        :class=\"bem()\"\n        :visibleBox=\"visibleBox\"\n        :visibleBoxScale=\"visibleBoxScale\"\n        :style=\"style\"\n        @mousedown-scale=\"(v) => $emit('drag-before', v)\"\n    >\n        <div\n            :class=\"bem('content')\"\n            @mousedown=\"(e) => $emit('drag-before', { type: 'content', e })\"\n            @click=\"handleClick\"\n        >\n            <div\n                :class=\"bem('text')\"\n                ref=\"input\"\n                :contenteditable=\"true\"\n                @input=\"(e) => $emit('change-text', e.target.textContent)\"\n                v-show=\"edit\"\n            >\n                {{ text }}\n            </div>\n            <div :class=\"bem('text')\" v-show=\"!edit\">{{ text }}</div>\n        </div>\n    </Border>\n</template>\n\n<script>\nimport { defineComponent, computed, watch, ref, nextTick } from \"vue\";\nimport { createNamespace } from \"../utils/create-bem\";\nimport Border from \"./border.vue\";\n\nconst [name, bem] = createNamespace(\"text-element\");\n\nexport default defineComponent({\n    name,\n    components: {\n        Border\n    },\n    props: {\n        width: {\n            type: Number,\n            default: 0\n        },\n        height: {\n            type: Number,\n            default: 0\n        },\n        x: {\n            type: Number,\n            default: 0\n        },\n        y: {\n            type: Number,\n            default: 0\n        },\n        zIndex: {\n            type: Number,\n            default: null\n        },\n        text: {\n            type: String,\n            default: \"\"\n        },\n        edit: {\n            type: Boolean,\n            default: false\n        },\n        hover: {\n            type: Boolean,\n            default: false\n        },\n        focus: {\n            type: Boolean,\n            default: false\n        },\n        operable: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props, { emit }) {\n        const visibleBox = computed(() => props.hover || props.focus);\n        const visibleBoxScale = computed(() => props.focus && props.operable);\n        const input = ref(null);\n\n        const style = computed(() => {\n            return {\n                width: props.width + \"px\",\n                height: props.height + \"px\",\n                transform: `translate(${props.x}px, ${props.y}px)`,\n                zIndex: props.zIndex\n            };\n        });\n\n        function handleClick(e) {\n            if (props.focus && !props.edit) {\n                emit(\"start-change-text\", { type: \"content\", e });\n                nextTick(() => {\n                    input.value.focus();\n                    const range = document.createRange();\n                    range.selectNodeContents(input.value);\n                    window.getSelection().removeAllRanges();\n                    window.getSelection().addRange(range);\n                });\n            } else {\n                emit(\"focus\", { type: \"content\", e });\n            }\n        }\n\n        return {\n            visibleBox,\n            visibleBoxScale,\n            input,\n            handleClick,\n\n            style,\n            bem\n        };\n    }\n});\n</script>\n\n<style lang=\"less\">\n.text-element {\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    &__content {\n        width: 100%;\n        height: 100%;\n    }\n\n    &__text {\n        user-select: none;\n    }\n\n    &__text {\n        font-size: 14px;\n        display: block;\n        width: 100%;\n        height: 100%;\n        border: none;\n        overflow-wrap: break-word;\n        padding: 0;\n        background: transparent;\n        outline: none;\n    }\n}\n</style>\n","import { render } from \"./text-element.vue?vue&type=template&id=a877d866\"\nimport script from \"./text-element.vue?vue&type=script&lang=js\"\nexport * from \"./text-element.vue?vue&type=script&lang=js\"\n\nimport \"./text-element.vue?vue&type=style&index=0&id=a877d866&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./group-element.vue?vue&type=template&id=718c06e8\"\nimport script from \"./group-element.vue?vue&type=script&lang=js\"\nexport * from \"./group-element.vue?vue&type=script&lang=js\"\n\nimport \"./group-element.vue?vue&type=style&index=0&id=718c06e8&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { ADSORPTION_DISTANCE } from \"../constants\";\n\nexport class AdsorptionLine {\n    constructor({ width, height, $parent }) {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = width;\n        canvas.height = height;\n        canvas.style.position = \"absolute\";\n        canvas.style.top = \"0\";\n        canvas.style.left = \"0\";\n        canvas.style.pointerEvents = \"none\";\n        $parent.appendChild(canvas);\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n    }\n\n    drawXLine(y) {\n        const { ctx, canvas } = this;\n        ctx.beginPath();\n        ctx.moveTo(0, y);\n        ctx.lineTo(canvas.width, y);\n        ctx.strokeStyle = \"#F56C6C\";\n        ctx.lineWidth = 1;\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n    drawYLine(x) {\n        const { ctx, canvas } = this;\n        ctx.beginPath();\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x, canvas.height);\n        ctx.strokeStyle = \"#F56C6C\";\n        ctx.lineWidth = 1;\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n    clear() {\n        const { ctx, canvas } = this;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n\n    updateAdsorptionX({\n        originX,\n        originCenterX,\n        originRightX,\n\n        targetX,\n        targetCenterX,\n        targetRightX\n    }) {\n        // 中间和中间\n        if (Math.abs(originCenterX - targetCenterX) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetCenterX };\n        }\n        // 中间和左边\n        else if (Math.abs(originCenterX - targetX) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetX };\n        }\n        // 中间和右边\n        else if (Math.abs(originCenterX - targetRightX) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetRightX };\n        }\n        // 左边和中间\n        else if (Math.abs(originX - targetCenterX) < ADSORPTION_DISTANCE) {\n            return { type: \"left\", value: targetCenterX };\n        }\n        // 左边和右边\n        else if (Math.abs(originX - targetRightX) < ADSORPTION_DISTANCE) {\n            return { type: \"left\", value: targetRightX };\n        }\n        // 左边和左边\n        else if (Math.abs(originX - targetX) < ADSORPTION_DISTANCE) {\n            return { type: \"left\", value: targetX };\n        }\n        // 右边和中间\n        else if (Math.abs(originRightX - targetCenterX) < ADSORPTION_DISTANCE) {\n            return { type: \"right\", value: targetCenterX };\n        }\n        // 右边和左边\n        else if (Math.abs(originRightX - targetX) < ADSORPTION_DISTANCE) {\n            return { type: \"right\", value: targetX };\n        }\n        // 右边和右边\n        else if (Math.abs(originRightX - targetRightX) < ADSORPTION_DISTANCE) {\n            return { type: \"right\", value: targetRightX };\n        }\n\n        return null;\n    }\n\n    updateAdsorptionY({\n        originY,\n        originCenterY,\n        originRightY,\n\n        targetY,\n        targetCenterY,\n        targetRightY\n    }) {\n        // 中间和中间\n        if (Math.abs(originCenterY - targetCenterY) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetCenterY };\n        }\n        // 中间和上边\n        else if (Math.abs(originCenterY - targetY) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetY };\n        }\n        // 中间和下边\n        else if (Math.abs(originCenterY - targetRightY) < ADSORPTION_DISTANCE) {\n            return { type: \"center\", value: targetRightY };\n        }\n        // 上边和中间\n        else if (Math.abs(originY - targetCenterY) < ADSORPTION_DISTANCE) {\n            return { type: \"top\", value: targetCenterY };\n        }\n        // 上边和下边\n        else if (Math.abs(originY - targetRightY) < ADSORPTION_DISTANCE) {\n            return { type: \"top\", value: targetRightY };\n        }\n        // 上边和上边\n        else if (Math.abs(originY - targetY) < ADSORPTION_DISTANCE) {\n            return { type: \"top\", value: targetY };\n        }\n        // 下边和中间\n        else if (Math.abs(originRightY - targetCenterY) < ADSORPTION_DISTANCE) {\n            return { type: \"bottom\", value: targetCenterY };\n        }\n        // 下边和上边\n        else if (Math.abs(originRightY - targetY) < ADSORPTION_DISTANCE) {\n            return { type: \"bottom\", value: targetY };\n        }\n        // 下边和下边\n        else if (Math.abs(originRightY - targetRightY) < ADSORPTION_DISTANCE) {\n            return { type: \"bottom\", value: targetRightY };\n        }\n\n        return null;\n    }\n\n    update({ originElement, targetElements }) {\n        let resultX = null;\n        let resultY = null;\n\n        for (let i = 0; i < targetElements.length; i++) {\n            const target = targetElements[i];\n            if (target === originElement) continue;\n\n            const { x: originX, y: originY } = originElement.getPosition();\n            const { x: originCenterX, y: originCenterY } =\n                originElement.getCenterPosition();\n            const { x: originRightX, y: originRightY } =\n                originElement.getRightPosition();\n\n            const { x: targetX, y: targetY } = target.getPosition();\n            const { x: targetCenterX, y: targetCenterY } =\n                target.getCenterPosition();\n\n            const { x: targetRightX, y: targetRightY } =\n                target.getRightPosition();\n\n            const adsorptionResultX = this.updateAdsorptionX({\n                originX,\n                originCenterX,\n                originRightX,\n\n                targetX,\n                targetCenterX,\n                targetRightX\n            });\n\n            const adsorptionResultY = this.updateAdsorptionY({\n                originY,\n                originCenterY,\n                originRightY,\n\n                targetY,\n                targetCenterY,\n                targetRightY\n            });\n\n            if (adsorptionResultX) {\n                resultX = adsorptionResultX;\n            }\n\n            if (adsorptionResultY) {\n                resultY = adsorptionResultY;\n            }\n        }\n\n        this.clear();\n        resultX && this.drawYLine(resultX.value);\n        resultY && this.drawXLine(resultY.value);\n\n        return {\n            // 吸附状态\n            xType: resultX ? resultX.type : null,\n            yType: resultY ? resultY.type : null,\n\n            // 吸附位置\n            x: resultX ? resultX.value : null,\n            y: resultY ? resultY.value : null\n        };\n    }\n\n    // update({ originMesh, targets }) {\n    //     let resultX = null;\n    //     let resultY = null;\n\n    //     for (let i = 0; i < targets.length; i++) {\n    //         const target = targets[i];\n    //         if (target === originMesh) continue;\n\n    //         const { x: originX, y: originY } = originMesh.getPosition();\n    //         const { x: originCenterX, y: originCenterY } =\n    //             originMesh.getCenterPosition();\n    //         const { x: originRightX, y: originRightY } =\n    //             originMesh.getRightPosition();\n\n    //         const { x: targetX, y: targetY } = target.getPosition();\n    //         const { x: targetCenterX, y: targetCenterY } =\n    //             target.getCenterPosition();\n\n    //         const { x: targetRightX, y: targetRightY } =\n    //             target.getRightPosition();\n\n    //         const adsorptionResultX = this.updateAdsorptionX({\n    //             originX,\n    //             originCenterX,\n    //             originRightX,\n\n    //             targetX,\n    //             targetCenterX,\n    //             targetRightX\n    //         });\n\n    //         const adsorptionResultY = this.updateAdsorptionY({\n    //             originY,\n    //             originCenterY,\n    //             originRightY,\n\n    //             targetY,\n    //             targetCenterY,\n    //             targetRightY\n    //         });\n\n    //         if (adsorptionResultX) {\n    //             resultX = adsorptionResultX;\n    //         }\n\n    //         if (adsorptionResultY) {\n    //             resultY = adsorptionResultY;\n    //         }\n    //     }\n\n    //     this.clear();\n    //     resultX && this.drawYLine(resultX.value);\n    //     resultY && this.drawXLine(resultY.value);\n\n    //     return {\n    //         // 吸附状态\n    //         xType: resultX ? resultX.type : null,\n    //         yType: resultY ? resultY.type : null,\n\n    //         // 吸附位置\n    //         x: resultX ? resultX.value : null,\n    //         y: resultY ? resultY.value : null\n    //     };\n    // }\n}\n","// 框选碰撞mesh\nexport function isRectCollectRect({\n    x1,\n    y1,\n    width1,\n    height1,\n    x2,\n    y2,\n    width2,\n    height2\n}) {\n    const points = [\n        { x: x1, y: y1 },\n        { x: x1 + width1, y: y1 },\n        { x: x1, y: y1 + height1 },\n        {\n            x: x1 + width1,\n            y: y1 + height1\n        }\n    ];\n\n    for (let i = 0; i < points.length; i++) {\n        const point = points[i];\n        if (\n            point.x > x2 &&\n            point.x < x2 + width2 &&\n            point.y > y2 &&\n            point.y < y2 + height2\n        ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n","import { isRectCollectRect } from \"../collection\";\n\n// 框选盒\nexport class Selection {\n    constructor({ width, height, $parent }) {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = width;\n        canvas.height = height;\n        canvas.style.position = \"absolute\";\n        canvas.style.top = \"0\";\n        canvas.style.left = \"0\";\n        canvas.style.pointerEvents = \"none\";\n        $parent.appendChild(canvas);\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n    }\n\n    ready({ originX, originY }) {\n        this.originX = originX;\n        this.originY = originY;\n        this.collectElements = [];\n    }\n\n    update({ x, y, targetElements }) {\n        this.clear();\n\n        const { ctx, originX, originY } = this;\n        const distanceX = x - originX;\n        const distanceY = y - originY;\n        let rectX, rectY, rectW, rectH;\n\n        if (distanceX < 0) {\n            rectX = x;\n            rectW = -distanceX;\n        } else {\n            rectX = originX;\n            rectW = distanceX;\n        }\n\n        if (distanceY < 0) {\n            rectY = y;\n            rectH = -distanceY;\n        } else {\n            rectY = originY;\n            rectH = distanceY;\n        }\n\n        ctx.strokeStyle = \"blue\";\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        ctx.strokeRect(rectX, rectY, rectW, rectH);\n        ctx.stroke();\n\n        const collectElements = [];\n        for (let i = 0; i < targetElements.length; i++) {\n            const targetElement = targetElements[i];\n            if (\n                isRectCollectRect({\n                    x1: targetElement.state.x,\n                    y1: targetElement.state.y,\n                    width1: targetElement.state.width,\n                    height1: targetElement.state.height,\n\n                    x2: rectX,\n                    y2: rectY,\n                    width2: rectW,\n                    height2: rectH\n                })\n            ) {\n                targetElement.inoperable();\n                targetElement.focus();\n                collectElements.push(targetElement);\n            } else {\n                targetElement.operable();\n                targetElement.blur();\n            }\n        }\n\n        this.collectElements = collectElements;\n    }\n\n    getCollectElements() {\n        return this.collectElements;\n    }\n\n    clear() {\n        const { ctx, canvas } = this;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n}\n","export class Element {\n    constructor(options = {}) {\n        const {\n            x = 0,\n            y = 0,\n            width = 100,\n            height = 100,\n            hover = false,\n            focus = false,\n            operable = true,\n            zIndex = null\n        } = options;\n        this.state = {\n            x,\n            y,\n            width,\n            height,\n            hover,\n            focus,\n            operable,\n            zIndex\n        };\n    }\n\n    getPosition() {\n        return {\n            x: this.state.x,\n            y: this.state.y\n        };\n    }\n\n    getCenterPosition() {\n        const { x, y } = this.getPosition();\n        return {\n            x: x + this.state.width / 2,\n            y: y + this.state.height / 2\n        };\n    }\n\n    getRightPosition() {\n        const { x, y } = this.getPosition();\n        return {\n            x: x + this.state.width,\n            y: y + this.state.height\n        };\n    }\n\n    setPosition(x, y) {\n        this.setX(x);\n        this.setY(y);\n    }\n\n    transform(x, y) {\n        this.transformX(x);\n        this.transformY(y);\n    }\n\n    transformX(x) {\n        this.setX(this.state.x + x);\n    }\n\n    transformY(y) {\n        this.setY(this.state.y + y);\n    }\n\n    setX(x) {\n        this.state.x = x;\n    }\n\n    setY(y) {\n        this.state.y = y;\n    }\n\n    scale(x, y) {\n        this.scaleX(x);\n        this.scaleY(y);\n    }\n\n    scaleX(s) {\n        this.setWidth(this.state.width * s);\n    }\n\n    scaleY(s) {\n        this.setHeight(this.state.height * s);\n    }\n\n    setWidth(width) {\n        this.state.width = width;\n    }\n\n    setHeight(height) {\n        this.state.height = height;\n    }\n\n    setZIndex(zIndex) {\n        this.state.zIndex = zIndex;\n    }\n\n    hover() {\n        this.state.hover = true;\n    }\n\n    unHover() {\n        this.state.hover = false;\n    }\n\n    focus() {\n        this.state.focus = true;\n    }\n\n    blur() {\n        this.state.focus = false;\n    }\n\n    operable() {\n        this.state.operable = true;\n    }\n\n    inoperable() {\n        this.state.operable = false;\n    }\n}\n","import { Element } from \"./element\";\n\nexport class ImageElement extends Element {\n    constructor({ imgSrc, ...options }) {\n        super(options);\n        this.elementType = \"image\";\n        this.setImgSrc(imgSrc);\n    }\n\n    setImgSrc(imgSrc) {\n        this.state.imgSrc = imgSrc;\n    }\n}\n","import { Element } from \"./element\";\n\nexport class TextElement extends Element {\n    constructor({ text, ...options }) {\n        super(options);\n        this.elementType = \"text\";\n        this.setText(text);\n    }\n\n    setText(text) {\n        this.state.text = text;\n    }\n\n    startEdit() {\n        this.state.edit = true;\n    }\n\n    endEdit() {\n        this.state.edit = false;\n    }\n}\n","import { Element } from \"./element\";\nimport GroupElementComponent from \"../components/group-element.vue\";\n\nexport class GroupElement extends Element {\n    constructor({ children, ...options }) {\n        super(options);\n        this.elementType = \"group\";\n        this.add(children);\n    }\n\n    add(elements) {\n        if (!this.state.children) {\n            this.state.children = [];\n        }\n        this.state.children.push(...elements);\n    }\n\n    temporary() {\n        this.state.temporary = true;\n    }\n\n    permanent() {\n        this.state.temporary = false;\n    }\n}\n","import { BREAK_ADSORPTION_DISTANCE } from \"../constants\";\n\nfunction getTransformX({ type, targetMeshX, originMeshX, originMeshWidth }) {\n    switch (type) {\n        case \"left\":\n            return targetMeshX - originMeshX;\n        case \"center\":\n            return targetMeshX - originMeshX - originMeshWidth / 2;\n        case \"right\":\n            return targetMeshX - originMeshX - originMeshWidth;\n    }\n}\n\nfunction getTransformY({ type, targetMeshY, originMeshY, originMeshHeight }) {\n    switch (type) {\n        case \"top\":\n            return targetMeshY - originMeshY;\n        case \"center\":\n            return targetMeshY - originMeshY - originMeshHeight / 2;\n        case \"bottom\":\n            return targetMeshY - originMeshY - originMeshHeight;\n    }\n}\nexport class MeshTransform {\n    constructor() {\n        this.clear();\n    }\n\n    clear() {\n        this.offsetX = 0;\n        this.offsetY = 0;\n    }\n\n    handleDragMeshTransform({ mouse, mesh, onTransform }) {\n        const { x, y, xType, yType } = onTransform(mesh);\n        const transformDragX = mouse.movementX;\n        const transformDragY = mouse.movementY;\n        const distanceX = mouse.x - this.offsetX;\n        const distanceY = mouse.y - this.offsetY;\n\n        // 拖拽累计距离大于 BREAK_ADSORPTION_DISTANCE 脱离吸附\n        if (\n            this.offsetX !== 0 &&\n            Math.abs(distanceX) > BREAK_ADSORPTION_DISTANCE\n        ) {\n            mesh.transformX(distanceX);\n            this.offsetX = 0;\n        }\n        // 吸附\n        else if (xType) {\n            const transformAdsorptionX = getTransformX({\n                type: xType,\n                targetMeshX: x,\n                originMeshX: mesh.state.x,\n                originMeshWidth: mesh.state.width\n            });\n            mesh.transformX(transformAdsorptionX);\n            // 记录吸附位置\n            if (this.offsetX === 0) {\n                this.offsetX = mouse.x;\n            }\n        }\n        // 自由拖拽\n        else {\n            mesh.transformX(transformDragX);\n            this.offsetX = 0;\n        }\n\n        // 拖拽累计距离大于 ADSORPTION_DISTANCE 脱离吸附\n        if (\n            this.offsetY !== 0 &&\n            Math.abs(distanceY) > BREAK_ADSORPTION_DISTANCE\n        ) {\n            mesh.transformY(distanceY);\n            this.offsetY = 0;\n        }\n        // 吸附\n        else if (yType) {\n            const transformAdsorptionY = getTransformY({\n                type: yType,\n                targetMeshY: y,\n                originMeshY: mesh.state.y,\n                originMeshHeight: mesh.state.height\n            });\n            mesh.transformY(transformAdsorptionY);\n            // 记录吸附位置\n            if (this.offsetY === 0) {\n                this.offsetY = mouse.y;\n            }\n        }\n        // 自由拖拽\n        else {\n            mesh.transformY(transformDragY);\n            this.offsetY = 0;\n        }\n    }\n}\n","export function handleDragMeshXScale(mesh, mouse) {\n    const { x: centerX } = mesh.getCenterPosition();\n    const width = mesh.state.width;\n    const { movementX, x } = mouse;\n\n    // 左\n    if (x < centerX) {\n        mesh.setX(x);\n        mesh.setWidth(width - movementX);\n    }\n    // 右\n    else if (x > centerX) {\n        mesh.setWidth(width + movementX);\n    }\n}\n\nexport function handleDragMeshYScale(mesh, mouse) {\n    const { y: centerY } = mesh.getCenterPosition();\n    const height = mesh.state.height;\n    const { movementY, y } = mouse;\n\n    // 上\n    if (y < centerY) {\n        mesh.setY(y);\n        mesh.setHeight(height - movementY);\n    }\n    // 下\n    else if (y > centerY) {\n        mesh.setHeight(height + movementY);\n    }\n}\n\nexport function handleDragMeshScale(mesh, mouse) {\n    handleDragMeshXScale(mesh, mouse);\n    handleDragMeshYScale(mesh, mouse);\n}\n","export function handleGroupSize(elements) {\n    let top = null;\n    let right = null;\n    let bottom = null;\n    let left = null;\n\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        const { x, y, width, height } = element.state;\n\n        top = top === null ? y : Math.min(top, y);\n        right = right === null ? x + width : Math.max(right, x + width);\n        bottom = bottom === null ? y + height : Math.max(bottom, y + height);\n        left = left === null ? x : Math.min(left, x);\n    }\n\n    return {\n        x: left,\n        y: top,\n        width: right - left,\n        height: bottom - top\n    };\n}\n","export function loadImage() {\n    return new Promise((resolve) => {\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.click();\n        input.onchange = () => {\n            const file = input.files[0];\n            const reader = new FileReader();\n            reader.onload = () => {\n                const img = new Image();\n                img.src = reader.result;\n                img.onload = () => {\n                    resolve(img);\n                };\n            };\n            reader.readAsDataURL(file);\n        };\n    });\n}\n","import { render } from \"./index.vue?vue&type=template&id=bd76deda\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=bd76deda&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\nimport Home from \"../views/home/index.vue\";\n\nconst routes = [\n    {\n        path: \"/\",\n        name: \"home\",\n        component: Home\n    }\n];\n\nconst router = createRouter({\n    history: createWebHashHistory(process.env.BASE_URL),\n    routes\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(store).use(router).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkeditor\"] = self[\"webpackChunkeditor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4314); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","class","_createElementVNode","src","ref","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","$setup","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","element","i","elementType","_component_ImageElementComponent","_mergeProps","key","state","onDragBefore","v","onChangeImage","onMouseenter","onMouseleave","onFocus","_component_TextElementComponent","onStartChangeText","onChangeText","_component_GroupElementComponent","_hoisted_8","_component_Border","_ctx","visibleBox","visibleBoxScale","style","onMousedownScale","onMousedown","e","type","onDblclick","genBem","name","mods","Array","isArray","reduce","ret","item","Object","keys","createBEM","el","createNamespace","prefixedName","_renderSlot","ADSORPTION_DISTANCE","BREAK_ADSORPTION_DISTANCE","BORDER_WIDTH","BORDER_CIRCULAR_SIZE","BORDER_RECT_WIDTH","BORDER_RECT_HEIGHT","bem","defineComponent","props","Boolean","default","setup","components","Border","width","Number","height","x","y","zIndex","imgSrc","String","hover","focus","operable","computed","transform","_component_ImageElement","_component_TextElement","contenteditable","onInput","target","textContent","text","edit","emit","input","handleClick","nextTick","value","range","document","createRange","selectNodeContents","window","getSelection","removeAllRanges","addRange","ImageElement","TextElement","children","AdsorptionLine","constructor","$parent","canvas","createElement","position","top","left","pointerEvents","appendChild","this","ctx","getContext","drawXLine","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","closePath","drawYLine","clear","clearRect","updateAdsorptionX","originX","originCenterX","originRightX","targetX","targetCenterX","targetRightX","Math","abs","updateAdsorptionY","originY","originCenterY","originRightY","targetY","targetCenterY","targetRightY","update","originElement","targetElements","resultX","resultY","length","getPosition","getCenterPosition","getRightPosition","adsorptionResultX","adsorptionResultY","xType","yType","isRectCollectRect","x1","y1","width1","height1","x2","y2","width2","height2","points","point","Selection","ready","collectElements","distanceX","distanceY","rectX","rectY","rectW","rectH","strokeRect","targetElement","inoperable","push","blur","getCollectElements","Element","options","setPosition","setX","setY","transformX","transformY","scale","scaleX","scaleY","s","setWidth","setHeight","setZIndex","unHover","super","setImgSrc","setText","startEdit","endEdit","GroupElement","add","elements","temporary","permanent","getTransformX","targetMeshX","originMeshX","originMeshWidth","getTransformY","targetMeshY","originMeshY","originMeshHeight","MeshTransform","offsetX","offsetY","handleDragMeshTransform","mouse","mesh","onTransform","transformDragX","movementX","transformDragY","movementY","transformAdsorptionX","transformAdsorptionY","handleDragMeshXScale","centerX","handleDragMeshYScale","centerY","handleDragMeshScale","handleGroupSize","right","bottom","min","max","loadImage","Promise","resolve","click","onchange","file","files","reader","FileReader","onload","img","Image","result","readAsDataURL","ImageElementComponent","GroupElementComponent","TextElementComponent","reactive","parent","adsorptionLine","selection","meshTransform","onMounted","offsetWidth","offsetHeight","mouseDownElement","mouseDownData","textElement","mousedown","handleFocus","currentElement","handleMousedown","handleHover","_","handleUnHover","prevMousedownLeft","prevMousedownTop","dragTransformElement","dragScaleElement","dragScaleXElement","dragScaleYElement","async","handleChangeImage","handleStartChangeText","handleChangeText","handleAddMesh","handleDownload","addEventListener","clientX","offsetLeft","clientY","offsetTop","j","child","splice","group","collectElement","routes","path","component","Home","router","createRouter","history","createWebHashHistory","process","createStore","getters","mutations","actions","modules","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}