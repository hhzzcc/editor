{"version":3,"file":"js/app.b4557a3a.js","mappings":"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","sources":["webpack://editor/./src/App.vue","webpack://editor/./src/App.vue?7ccd","webpack://editor/./src/views/home/index.vue","webpack://editor/./src/core/renderer/index.js","webpack://editor/./src/core/camera/index.js","webpack://editor/./src/core/scene/index.js","webpack://editor/./src/core/mesh/index.js","webpack://editor/./src/core/utils/services/selection.js","webpack://editor/./src/core/utils/constants.js","webpack://editor/./src/core/utils/services/adsorption-line.js","webpack://editor/./src/core/utils/services/mesh-transform.js","webpack://editor/./src/core/utils/collection.js","webpack://editor/./src/core/group/index.js","webpack://editor/./src/core/utils/handles/group.js","webpack://editor/./src/core/utils/handles/selection-collect-mesh.js","webpack://editor/./src/core/utils/handles/hover-mesh.js","webpack://editor/./src/core/utils/handles/drag-mesh.js","webpack://editor/./src/core/utils/handles/drag-mesh-scale.js","webpack://editor/./src/core/utils/handles/mesh-top.js","webpack://editor/./src/core/utils/handles/dbclick-mesh.js","webpack://editor/./src/core/plugins/mouse.js","webpack://editor/./src/views/home/index.vue?ed4e","webpack://editor/./src/router/index.js","webpack://editor/./src/store/index.js","webpack://editor/./src/main.js","webpack://editor/webpack/bootstrap","webpack://editor/webpack/runtime/chunk loaded","webpack://editor/webpack/runtime/compat get default export","webpack://editor/webpack/runtime/define property getters","webpack://editor/webpack/runtime/global","webpack://editor/webpack/runtime/hasOwnProperty shorthand","webpack://editor/webpack/runtime/jsonp chunk loading","webpack://editor/webpack/startup"],"sourcesContent":["<template>\n    <router-view />\n</template>\n\n<style>\n* {\n    margin: 0;\n    box-sizing: border-box;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=5381e3b2\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=5381e3b2&lang=css\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"home-view\">\n        <div class=\"home-view__header\">\n            <img\n                class=\"home-view__logo\"\n                src=\"https://st0.dancf.com/static/02/202301130825-f513.png\"\n            />\n            <button @click=\"handleDownload\">下载</button>\n        </div>\n        <div class=\"home-view__body\">\n            <div class=\"home-view__left\">\n                <button @click=\"handleAddMesh\">添加素材</button>\n            </div>\n\n            <div class=\"home-view__content\">\n                <div class=\"home-view__editor\" ref=\"parent\" />\n            </div>\n\n            <div class=\"home-view__right\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Renderer } from \"../../core/renderer\";\nimport { Camera } from \"../../core/camera\";\nimport { Scene } from \"../../core/scene\";\nimport { Mesh } from \"../../core/mesh\";\nimport { mousePlugins } from \"../../core/plugins/mouse\";\nimport { onMounted, ref } from \"vue\";\n\nexport default {\n    name: \"home-view\",\n    setup() {\n        const parent = ref(null);\n        const image = new Image();\n        let scene, renderer;\n        let n = 10;\n        onMounted(() => {\n            image.setAttribute(\"crossorigin\", \"anonymous\");\n            image.src =\n                \"https://st-gdx.dancf.com/gaodingx/4323/configs/system/20210728-095726-adc9.svg\";\n            image.onload = () => {\n                const mesh = new Mesh({\n                    backgroundImage: image,\n                    width: image.width,\n                    height: image.height\n                });\n\n                const mesh1 = new Mesh({\n                    x: 50,\n                    y: 50,\n                    backgroundImage: image,\n                    width: image.width,\n                    height: image.height\n                });\n                const camera = new Camera();\n                scene = new Scene({\n                    width: 400,\n                    height: 600,\n                    backgroundColor: \"white\"\n                });\n\n                renderer = new Renderer({\n                    plugins: [...mousePlugins],\n                    scene,\n                    camera,\n                    $parent: parent.value\n                });\n\n                scene.add(mesh);\n                scene.add(mesh1);\n                renderer.installPlugin();\n                renderer.render();\n            };\n        });\n\n        function handleAddMesh() {\n            const mesh = new Mesh({\n                x: 50 + n,\n                y: 50 + n,\n                backgroundImage: image,\n                width: image.width,\n                height: image.height\n            });\n            scene.add(mesh);\n            n += 10;\n\n            renderer.render();\n        }\n\n        function handleDownload() {\n            const { canvas } = renderer;\n            const url = canvas.toDataURL(\"image/png\", 1);\n            const a = document.createElement(\"a\");\n            a.download = \"下载\";\n            a.href = url;\n            a.click();\n        }\n\n        return {\n            parent,\n            handleAddMesh,\n            handleDownload\n        };\n    }\n};\n</script>\n\n<style lang=\"less\">\n.home-view {\n    &__header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 54px;\n        background-color: #fff;\n        border-bottom: 2px solid #eef2f8;\n        padding: 0 24px;\n    }\n\n    &__logo {\n        height: 30px;\n    }\n\n    &__body {\n        display: flex;\n        height: calc(100vh - 54px);\n    }\n\n    &__content {\n        flex: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: #f1f2f4;\n        height: 100%;\n    }\n\n    &__left {\n        width: 200px;\n        height: 100%;\n        background: #fff;\n        border-right: 2px solid #eef2f8;\n        padding: 24px;\n    }\n\n    &__right {\n        width: 276px;\n        height: 100%;\n        background: #fff;\n        border-left: 2px solid #eef2f8;\n        padding: 24px;\n    }\n\n    &__editor {\n        width: 400px;\n        height: 600px;\n        position: relative;\n        border: 1px solid #eee;\n        box-shadow: 1px 1px 15px rgb(0 0 0 / 20%);\n\n        :first-child {\n            background-color: #fff;\n            background-image: linear-gradient(\n                    to top right,\n                    #ccc 25%,\n                    transparent 0,\n                    transparent 75%,\n                    #ccc 0,\n                    #ccc\n                ),\n                linear-gradient(\n                    to top right,\n                    #ccc 25%,\n                    transparent 0,\n                    transparent 75%,\n                    #ccc 0,\n                    #ccc\n                );\n            background-position: 0 0, 8px 8px;\n            background-size: 16px 16px;\n            overflow: hidden;\n            user-select: none;\n        }\n\n        canvas {\n            display: block;\n        }\n    }\n}\n</style>\n","export class Renderer {\n    constructor(options) {\n        const {\n            plugins = [],\n            scene = null,\n            camera = null,\n            $parent = document.body\n        } = options;\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = scene.style.width;\n        this.canvas.height = scene.style.height;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.$parent = $parent;\n        this.plugins = plugins;\n        this.scene = scene;\n        this.camera = camera;\n\n        $parent.appendChild(this.canvas);\n    }\n\n    installPlugin() {\n        for (let i = 0; i < this.plugins.length; i++) {\n            const plugin = this.plugins[i];\n            plugin.install(this);\n        }\n    }\n\n    clear() {\n        const { scene, ctx } = this;\n        const { width, height, backgroundColor } = scene.style;\n\n        if (backgroundColor) {\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(0, 0, width, height);\n        } else {\n            ctx.clearRect(0, 0, width, height);\n        }\n    }\n\n    render() {\n        const { scene, ctx } = this;\n        const { meshes } = scene;\n\n        this.clear();\n        for (let i = 0; i < meshes.length; i++) {\n            const mesh = meshes[i];\n            mesh.render({ ctx });\n        }\n    }\n}\n","export class Camera {}\n","export class Scene {\n    constructor(options) {\n        const {\n            x = 0,\n            y = 0,\n            width = 500,\n            height = 500,\n            backgroundColor = null\n        } = options;\n\n        this.position = {\n            x,\n            y\n        };\n\n        this.style = {\n            width,\n            height,\n            backgroundColor\n        };\n        this.meshes = [];\n    }\n\n    add(mesh) {\n        this.meshes.push(mesh);\n    }\n\n    getCenterPosition() {\n        return {\n            x: this.position.x + this.style.width / 2,\n            y: this.position.y + this.style.height / 2\n        };\n    }\n\n    getRightPosition() {\n        return {\n            x: this.position.x + this.style.width,\n            y: this.position.y + this.style.height\n        };\n    }\n}\n","function drawCircular({ ctx, x, y, radius, radians }) {\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, radians);\n    ctx.fillStyle = \"#fff\";\n    ctx.fill();\n    ctx.stroke();\n}\n\nfunction drawRect({ ctx, x, y, width, height }) {\n    ctx.beginPath();\n    ctx.fillStyle = \"#fff\";\n    ctx.strokeRect(x, y, width, height);\n    ctx.fillRect(x, y, width, height);\n    ctx.stroke();\n}\n\nexport class Mesh {\n    constructor(options = {}) {\n        const {\n            x = 0,\n            y = 0,\n            width = 100,\n            height = 100,\n            minWidth = 30,\n            minHeight = 20,\n            backgroundImage = null,\n            radius = 6,\n            borderWidth = 2,\n            borderColor = \"#6ccfff\",\n            borderRectWidth = 16,\n            borderRectHeight = 6,\n            operable = true\n        } = options;\n\n        this.position = {\n            x,\n            y\n        };\n\n        this.style = {\n            width,\n            height,\n            minWidth,\n            minHeight,\n            backgroundImage,\n            radius,\n            borderWidth,\n            borderColor,\n            borderRectWidth,\n            borderRectHeight\n        };\n\n        this.type = {\n            focus: false,\n            hover: false,\n            operable\n        };\n    }\n\n    getCenterPosition() {\n        return {\n            x: this.position.x + this.style.width / 2,\n            y: this.position.y + this.style.height / 2\n        };\n    }\n\n    getRightPosition() {\n        return {\n            x: this.position.x + this.style.width,\n            y: this.position.y + this.style.height\n        };\n    }\n\n    setPosition(x, y) {\n        this.setX(x);\n        this.setY(y);\n    }\n\n    setX(x) {\n        this.position.x = x;\n    }\n\n    setY(y) {\n        this.position.y = y;\n    }\n\n    scale(x, y) {\n        this.scaleX(x);\n        this.scaleY(y);\n    }\n\n    scaleX(s) {\n        this.style.width *= s;\n    }\n\n    scaleY(s) {\n        this.style.height *= s;\n    }\n\n    setWidth(width) {\n        this.style.width =\n            width < this.style.minWidth ? this.style.minWidth : width;\n    }\n\n    setHeight(height) {\n        this.style.height =\n            height < this.style.minHeight ? this.style.minHeight : height;\n    }\n\n    setBackgroundImage(backgroundImage) {\n        this.style.backgroundImage = backgroundImage;\n    }\n\n    transform(x, y) {\n        this.transformX(x);\n        this.transformY(y);\n    }\n\n    transformX(x) {\n        this.position.x += x;\n    }\n\n    transformY(y) {\n        this.position.y += y;\n    }\n\n    move(x, y) {\n        this.position.x = x;\n        this.position.y = y;\n    }\n\n    hover() {\n        this.type.hover = true;\n    }\n\n    unHover() {\n        this.type.hover = false;\n    }\n\n    focus() {\n        this.type.focus = true;\n    }\n\n    blur() {\n        this.type.focus = false;\n    }\n\n    operable() {\n        this.type.operable = true;\n    }\n\n    inoperable() {\n        this.type.operable = false;\n    }\n\n    renderBorder({ ctx }) {\n        const { type, style, position } = this;\n        const { focus, hover, operable } = type;\n        if (!focus && !hover) return;\n\n        const { x, y } = position;\n        const {\n            width,\n            height,\n            radius,\n            borderWidth,\n            borderColor,\n            borderRectWidth,\n            borderRectHeight\n        } = style;\n        const rightX = x + width;\n        const bottomY = y + height;\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.lineTo(rightX, y);\n        ctx.lineTo(rightX, bottomY);\n        ctx.lineTo(x, bottomY);\n        ctx.lineTo(x, y);\n        ctx.strokeStyle = borderColor;\n        ctx.lineWidth = borderWidth;\n        ctx.stroke();\n        ctx.closePath();\n\n        if (!focus || !operable) return;\n\n        const centerX = x + width / 2;\n        const centerY = y + height / 2;\n\n        ctx.strokeStyle = \"#ccc\";\n        ctx.lineWidth = 1;\n        // 4个矩形缩放角\n        drawRect({\n            ctx,\n            x: centerX - borderRectWidth / 2,\n            y: y - borderRectHeight / 2,\n            width: borderRectWidth,\n            height: borderRectHeight\n        });\n\n        drawRect({\n            ctx,\n            x: rightX - borderRectHeight / 2,\n            y: centerY - borderRectWidth / 2,\n            width: borderRectHeight,\n            height: borderRectWidth\n        });\n\n        drawRect({\n            ctx,\n            x: centerX - borderRectWidth / 2,\n            y: y + height - borderRectHeight / 2,\n            width: borderRectWidth,\n            height: borderRectHeight\n        });\n\n        drawRect({\n            ctx,\n            x: x - borderRectHeight / 2,\n            y: centerY - borderRectWidth / 2,\n            width: borderRectHeight,\n            height: borderRectWidth\n        });\n\n        const radians = 2 * Math.PI;\n        // 4个圆形缩放角\n        drawCircular({ ctx, x, y, radius, radians });\n        drawCircular({ ctx, x: rightX, y, radius, radians });\n        drawCircular({ ctx, x: rightX, y: bottomY, radius, radians });\n        drawCircular({ ctx, x, y: bottomY, radius, radians });\n    }\n\n    renderBackgroundImage({ ctx }) {\n        const { style, position } = this;\n        const { width, height, backgroundImage } = style;\n        if (!backgroundImage) return;\n\n        const { x, y } = position;\n        ctx.drawImage(backgroundImage, x, y, width, height);\n    }\n\n    render({ ctx }) {\n        this.renderBackgroundImage({ ctx });\n        this.renderBorder({ ctx });\n    }\n}\n","import { Renderer } from \"../../../core/renderer\";\nimport { Camera } from \"../../../core/camera\";\nimport { Scene } from \"../../../core/scene\";\nimport { Mesh } from \"../../../core/mesh\";\n\n// 框选盒\nexport class Selection {\n    constructor({ width, height, $parent }) {\n        const mesh = new Mesh({\n            width: 0,\n            height: 0,\n            minWidth: 0,\n            minHeight: 0,\n            radius: null,\n            borderWidth: 1,\n            operable: false\n        });\n        const camera = new Camera();\n        const scene = new Scene({ width, height });\n        const renderer = new Renderer({\n            scene,\n            camera,\n            $parent\n        });\n        mesh.focus();\n        scene.add(mesh);\n        renderer.canvas.style.position = \"absolute\";\n        renderer.canvas.style.top = \"0\";\n        renderer.canvas.style.left = \"0\";\n        renderer.canvas.style.zIndex = \"1\";\n        renderer.canvas.style.pointerEvents = \"none\";\n\n        this.mesh = mesh;\n        this.collectMeshes = [];\n        this.renderer = renderer;\n    }\n\n    ready(mousedownLeft, mousedownTop) {\n        this.collectMeshes = [];\n        if (this.renderer) {\n            this.mousedownLeft = mousedownLeft;\n            this.mousedownTop = mousedownTop;\n            this.mesh.move(mousedownLeft, mousedownTop);\n            this.renderer.canvas.style.display = null;\n        }\n    }\n\n    update(layerX, layerY, collectMeshes) {\n        const w = layerX - this.mousedownLeft;\n        const h = layerY - this.mousedownTop;\n\n        if (w < 0) {\n            this.mesh.setX(this.mousedownLeft + w);\n            this.mesh.setWidth(-w);\n        } else {\n            this.mesh.setWidth(w);\n        }\n\n        if (h < 0) {\n            this.mesh.setY(this.mousedownTop + h);\n            this.mesh.setHeight(-h);\n        } else {\n            this.mesh.setHeight(h);\n        }\n\n        this.collectMeshes = collectMeshes;\n        this.renderer.render();\n    }\n\n    hide() {\n        if (this.renderer) {\n            this.mesh.setWidth(0);\n            this.mesh.setHeight(0);\n            this.renderer.canvas.style.display = \"none\";\n            this.renderer && this.renderer.clear();\n        }\n    }\n}\n","// 吸附距离\nexport const ADSORPTION_DISTANCE = 5;\n\n// 脱离吸附距离\nexport const BREAK_ADSORPTION_DISTANCE = 10;\n","import { Renderer } from \"../../../core/renderer\";\nimport { Camera } from \"../../../core/camera\";\nimport { Scene } from \"../../../core/scene\";\nimport { Mesh } from \"../../../core/mesh\";\nimport { ADSORPTION_DISTANCE } from \"../constants\";\n\nexport class AdsorptionLine {\n    constructor({ width, height, $parent }) {\n        const meshX = new Mesh({\n            x: 0,\n            y: 100,\n            width,\n            height: 0.5,\n            minWidth: 0,\n            minHeight: 0,\n            radius: null,\n            borderWidth: 0.5,\n            borderColor: \"#F56C6C\",\n            operable: false\n        });\n        const meshY = new Mesh({\n            y: 0,\n            x: 100,\n            width: 0.5,\n            height,\n            minWidth: 0,\n            minHeight: 0,\n            radius: null,\n            borderWidth: 0.5,\n            borderColor: \"#F56C6C\",\n            operable: false\n        });\n        const camera = new Camera();\n        const scene = new Scene({ width, height });\n        const renderer = new Renderer({\n            scene,\n            camera,\n            $parent\n        });\n        scene.add(meshX);\n        scene.add(meshY);\n        renderer.canvas.style.position = \"absolute\";\n        renderer.canvas.style.top = \"0\";\n        renderer.canvas.style.left = \"0\";\n        renderer.canvas.style.zIndex = \"1\";\n        renderer.canvas.style.pointerEvents = \"none\";\n\n        this.meshX = meshX;\n        this.meshY = meshY;\n        this.renderer = renderer;\n    }\n\n    ready() {\n        if (this.renderer) {\n            this.renderer.canvas.style.display = null;\n        }\n    }\n\n    updateAdsorptionX({\n        meshY,\n\n        originX,\n        originCenterX,\n        originRightX,\n\n        targetX,\n        targetCenterX,\n        targetRightX\n    }) {\n        let xType = null;\n        // 中间和中间\n        if (Math.abs(originCenterX - targetCenterX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetCenterX);\n            xType = \"center\";\n        }\n        // 中间和左边\n        else if (Math.abs(originCenterX - targetX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetX);\n            xType = \"center\";\n        }\n        // 中间和右边\n        else if (Math.abs(originCenterX - targetRightX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetRightX);\n            xType = \"center\";\n        }\n        // 左边和中间\n        else if (Math.abs(originX - targetCenterX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetCenterX);\n            xType = \"left\";\n        }\n        // 左边和右边\n        else if (Math.abs(originX - targetRightX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetRightX);\n            xType = \"left\";\n        }\n        // 左边和左边\n        else if (Math.abs(originX - targetX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetX);\n            xType = \"left\";\n        }\n        // 右边和中间\n        else if (Math.abs(originRightX - targetCenterX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetCenterX);\n            xType = \"right\";\n        }\n        // 右边和左边\n        else if (Math.abs(originRightX - targetX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetX);\n            xType = \"right\";\n        }\n        // 右边和右边\n        else if (Math.abs(originRightX - targetRightX) < ADSORPTION_DISTANCE) {\n            meshY.focus();\n            meshY.setX(targetRightX);\n            xType = \"right\";\n        }\n\n        return { xType };\n    }\n\n    updateAdsorptionY({\n        meshX,\n\n        originY,\n        originCenterY,\n        originRightY,\n\n        targetY,\n        targetCenterY,\n        targetRightY\n    }) {\n        let yType = null;\n        // 中间和中间\n        if (Math.abs(originCenterY - targetCenterY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetCenterY);\n            yType = \"center\";\n        }\n        // 中间和上边\n        else if (Math.abs(originCenterY - targetY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetY);\n            yType = \"center\";\n        }\n        // 中间和下边\n        else if (Math.abs(originCenterY - targetRightY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetRightY);\n            yType = \"center\";\n        }\n        // 上边和中间\n        else if (Math.abs(originY - targetCenterY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetCenterY);\n            yType = \"top\";\n        }\n        // 上边和下边\n        else if (Math.abs(originY - targetRightY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetRightY);\n            yType = \"top\";\n        }\n        // 上边和上边\n        else if (Math.abs(originY - targetY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetY);\n            yType = \"top\";\n        }\n        // 下边和中间\n        else if (Math.abs(originRightY - targetCenterY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetCenterY);\n            yType = \"bottom\";\n        }\n        // 下边和上边\n        else if (Math.abs(originRightY - targetY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetY);\n            yType = \"bottom\";\n        }\n        // 下边和下边\n        else if (Math.abs(originRightY - targetRightY) < ADSORPTION_DISTANCE) {\n            meshX.focus();\n            meshX.setY(targetRightY);\n            yType = \"bottom\";\n        }\n\n        return { yType };\n    }\n\n    update({ originMesh, targets }) {\n        this.meshX.blur();\n        this.meshY.blur();\n        let xType = null;\n        let yType = null;\n\n        for (let i = 0; i < targets.length; i++) {\n            const target = targets[i];\n            if (target === originMesh) continue;\n\n            const { x: originX, y: originY } = originMesh.position;\n            const { x: originCenterX, y: originCenterY } =\n                originMesh.getCenterPosition();\n            const { x: originRightX, y: originRightY } =\n                originMesh.getRightPosition();\n\n            const { x: targetX, y: targetY } = target.position;\n            const { x: targetCenterX, y: targetCenterY } =\n                target.getCenterPosition();\n\n            const { x: targetRightX, y: targetRightY } =\n                target.getRightPosition();\n\n            const resultX = this.updateAdsorptionX({\n                meshY: this.meshY,\n\n                originX,\n                originCenterX,\n                originRightX,\n\n                targetX,\n                targetCenterX,\n                targetRightX\n            });\n\n            const resultY = this.updateAdsorptionY({\n                meshX: this.meshX,\n\n                originY,\n                originCenterY,\n                originRightY,\n\n                targetY,\n                targetCenterY,\n                targetRightY\n            });\n\n            if (resultX.xType) {\n                xType = resultX.xType;\n            }\n\n            if (resultY.yType) {\n                yType = resultY.yType;\n            }\n        }\n\n        this.renderer.render();\n\n        return {\n            // 吸附状态\n            xType,\n            yType,\n\n            // 吸附位置\n            x: xType ? this.meshY.position.x : null,\n            y: yType ? this.meshX.position.y : null\n        };\n    }\n\n    hide() {\n        if (this.renderer) {\n            this.renderer.canvas.style.display = \"none\";\n            this.renderer && this.renderer.clear();\n        }\n    }\n}\n","import { BREAK_ADSORPTION_DISTANCE } from \"../constants\";\n\nfunction getTransformX({ type, targetMeshX, originMeshX, originMeshWidth }) {\n    switch (type) {\n        case \"left\":\n            return targetMeshX - originMeshX;\n        case \"center\":\n            return targetMeshX - originMeshX - originMeshWidth / 2;\n        case \"right\":\n            return targetMeshX - originMeshX - originMeshWidth;\n    }\n}\n\nfunction getTransformY({ type, targetMeshY, originMeshY, originMeshHeight }) {\n    switch (type) {\n        case \"top\":\n            return targetMeshY - originMeshY;\n        case \"center\":\n            return targetMeshY - originMeshY - originMeshHeight / 2;\n        case \"bottom\":\n            return targetMeshY - originMeshY - originMeshHeight;\n    }\n}\nexport class MeshTransform {\n    constructor() {\n        this.clear();\n    }\n\n    clear() {\n        this.offsetX = 0;\n        this.offsetY = 0;\n    }\n\n    handleDragMeshTransform({\n        mouse,\n        mesh,\n        prevMousedownLeft,\n        prevMousedownTop,\n        onTransform\n    }) {\n        const { x, y, xType, yType } = onTransform(mesh);\n        const transformDragX = mouse.layerX - prevMousedownLeft;\n        const transformDragY = mouse.layerY - prevMousedownTop;\n        const distanceX = this.offsetX - mouse.layerX;\n        const distanceY = this.offsetY - mouse.layerY;\n\n        // 拖拽累计距离大于 BREAK_ADSORPTION_DISTANCE 脱离吸附\n        if (\n            this.offsetX !== 0 &&\n            Math.abs(distanceX) > BREAK_ADSORPTION_DISTANCE\n        ) {\n            mesh.transformX(-distanceX);\n            this.offsetX = 0;\n        }\n        // 吸附\n        else if (xType) {\n            // 记录吸附位置\n            if (this.offsetX === 0) {\n                this.offsetX = mouse.layerX;\n            }\n            const transformAdsorptionX = getTransformX({\n                type: xType,\n                targetMeshX: x,\n                originMeshX: mesh.position.x,\n                originMeshWidth: mesh.style.width\n            });\n            mesh.transformX(transformAdsorptionX);\n        }\n        // 自由拖拽\n        else {\n            this.offsetX = 0;\n            mesh.transformX(transformDragX);\n        }\n\n        // 拖拽累计距离大于 ADSORPTION_DISTANCE 脱离吸附\n        if (\n            this.offsetY !== 0 &&\n            Math.abs(distanceY) > BREAK_ADSORPTION_DISTANCE\n        ) {\n            mesh.transformY(-distanceY);\n            this.offsetY = 0;\n        }\n        // 吸附\n        else if (yType) {\n            // 记录吸附位置\n            if (this.offsetY === 0) {\n                this.offsetY = mouse.layerY;\n            }\n            const transformAdsorptionY = getTransformY({\n                type: yType,\n                targetMeshY: y,\n                originMeshY: mesh.position.y,\n                originMeshHeight: mesh.style.height\n            });\n            mesh.transformY(transformAdsorptionY);\n        }\n        // 自由拖拽\n        else {\n            this.offsetY = 0;\n            mesh.transformY(transformDragY);\n        }\n    }\n}\n","function isCollectCircular({\n    originX,\n    originY,\n    targetCenterX,\n    targetCenterY,\n    radius\n}) {\n    return (\n        Math.pow(originX - targetCenterX, 2) +\n            Math.pow(originY - targetCenterY, 2) <\n        radius * radius\n    );\n}\n\nfunction isCollectRect({\n    originX,\n    originY,\n    targetX,\n    targetY,\n    targetWidth,\n    targetHeight\n}) {\n    return (\n        originX > targetX &&\n        originX < targetX + targetWidth &&\n        originY > targetY &&\n        originY < targetY + targetHeight\n    );\n}\n\n// 鼠标碰撞mesh\nexport function isMouseCollectMesh(mouse, mesh) {\n    const { x: leftX, y: topY } = mesh.position;\n    const { x: rightX, y: bottomY } = mesh.getRightPosition();\n    const originX = mouse.layerX;\n    const originY = mouse.layerY;\n    const isCollectContent =\n        originX > leftX &&\n        originX < rightX &&\n        originY > topY &&\n        originY < bottomY;\n\n    if (mesh.type.focus && mesh.type.operable) {\n        const { x: centerX, y: centerY } = mesh.getCenterPosition();\n        const { borderRectWidth, borderRectHeight, radius } = mesh.style;\n\n        const isCollectTopBorderRect = isCollectRect({\n            originX,\n            originY,\n            targetX: centerX - borderRectWidth / 2,\n            targetY: topY - borderRectHeight / 2,\n            targetWidth: borderRectWidth,\n            targetHeight: borderRectHeight\n        });\n\n        const isCollectRightBorderRect = isCollectRect({\n            originX,\n            originY,\n            targetX: rightX - borderRectHeight / 2,\n            targetY: centerY - borderRectWidth / 2,\n            targetWidth: borderRectHeight,\n            targetHeight: borderRectWidth\n        });\n\n        const isCollectBottomBorderRect = isCollectRect({\n            originX,\n            originY,\n            targetX: centerX - borderRectWidth / 2,\n            targetY: bottomY - borderRectHeight / 2,\n            targetWidth: borderRectWidth,\n            targetHeight: borderRectHeight\n        });\n\n        const isCollectLeftBorderRect = isCollectRect({\n            originX,\n            originY,\n            targetX: leftX - borderRectHeight / 2,\n            targetY: centerY - borderRectWidth / 2,\n            targetWidth: borderRectHeight,\n            targetHeight: borderRectWidth\n        });\n\n        // 碰撞缩放矩形\n        const isCollectBorderRect =\n            isCollectTopBorderRect ||\n            isCollectRightBorderRect ||\n            isCollectBottomBorderRect ||\n            isCollectLeftBorderRect;\n\n        const isCollectBorderLeftTopCircular = isCollectCircular({\n            originX,\n            originY,\n            targetCenterX: leftX,\n            targetCenterY: topY,\n            radius\n        });\n        const isCollectBorderRightTopCircular = isCollectCircular({\n            originX,\n            originY,\n            targetCenterX: rightX,\n            targetCenterY: topY,\n            radius\n        });\n        const isCollectBorderRightBottomCircular = isCollectCircular({\n            originX,\n            originY,\n            targetCenterX: rightX,\n            targetCenterY: bottomY,\n            radius\n        });\n        const isCollectBorderLeftBottomCircular = isCollectCircular({\n            originX,\n            originY,\n            targetCenterX: leftX,\n            targetCenterY: bottomY,\n            radius\n        });\n\n        // 碰撞缩放圆形\n        const isCollectBorderCircular =\n            isCollectBorderLeftTopCircular ||\n            isCollectBorderRightTopCircular ||\n            isCollectBorderRightBottomCircular ||\n            isCollectBorderLeftBottomCircular;\n\n        return {\n            isCollectContent,\n\n            isCollectBorderRect,\n            isCollectTopBorderRect,\n            isCollectRightBorderRect,\n            isCollectBottomBorderRect,\n            isCollectLeftBorderRect,\n\n            isCollectBorderCircular,\n            isCollectBorderLeftTopCircular,\n            isCollectBorderRightTopCircular,\n            isCollectBorderRightBottomCircular,\n            isCollectBorderLeftBottomCircular\n        };\n    }\n\n    return {\n        isCollectContent,\n\n        isCollectBorderRect: false,\n        isCollectTopBorderRect: false,\n        isCollectRightBorderRect: false,\n        isCollectBottomBorderRect: false,\n        isCollectLeftBorderRect: false,\n\n        isCollectBorderCircular: false,\n        isCollectBorderLeftTopCircular: false,\n        isCollectBorderRightTopCircular: false,\n        isCollectBorderRightBottomCircular: false,\n        isCollectBorderLeftBottomCircular: false\n    };\n}\n\n// 框选碰撞mesh\nexport function isBoxCollectMesh(mesh1, mesh2) {\n    const points = [\n        { x: mesh1.position.x, y: mesh1.position.y },\n        { x: mesh1.position.x + mesh1.style.width, y: mesh1.position.y },\n        { x: mesh1.position.x, y: mesh1.position.y + mesh1.style.height },\n        {\n            x: mesh1.position.x + mesh1.style.width,\n            y: mesh1.position.y + mesh1.style.height\n        }\n    ];\n\n    for (let i = 0; i < points.length; i++) {\n        const point = points[i];\n        if (\n            point.x > mesh2.position.x &&\n            point.x < mesh2.position.x + mesh2.style.width &&\n            point.y > mesh2.position.y &&\n            point.y < mesh2.position.y + mesh2.style.height\n        ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n","import { Mesh } from \"../mesh\";\n\nexport class Group extends Mesh {\n    constructor(options = {}) {\n        super(options);\n        this.meshes = [];\n        this.createWidth = options.width;\n        this.createHeight = options.height;\n        this.createX = options.x;\n        this.createY = options.y;\n        this.type.temporary = false;\n    }\n\n    add(mesh) {\n        this.meshes.push(mesh);\n    }\n\n    temporary() {\n        this.type.temporary = true;\n    }\n\n    permanent() {\n        this.type.temporary = false;\n    }\n}\n","export function handleGroupSize(meshes) {\n    let top = null;\n    let right = null;\n    let bottom = null;\n    let left = null;\n\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        const { x, y } = mesh.position;\n        const { width, height } = mesh.style;\n\n        top = top === null ? y : Math.min(top, y);\n        right = right === null ? x + width : Math.max(right, x + width);\n        bottom = bottom === null ? y + height : Math.max(bottom, y + height);\n        left = left === null ? x : Math.min(left, x);\n    }\n\n    return {\n        x: left,\n        y: top,\n        width: right - left,\n        height: bottom - top\n    };\n}\n\nexport function handleGroupBackground({\n    groupX,\n    groupY,\n    groupWidth,\n    groupHeight,\n    sceneMeshes\n}) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = groupWidth;\n    canvas.height = groupHeight;\n    const ctx = canvas.getContext(\"2d\");\n\n    for (let i = 0; i < sceneMeshes.length; i++) {\n        const sceneMesh = sceneMeshes[i];\n        const { x, y } = sceneMesh.position;\n        const { backgroundImage, width, height } = sceneMesh.style;\n        ctx.drawImage(backgroundImage, x - groupX, y - groupY, width, height);\n    }\n\n    return canvas;\n}\n","import { isBoxCollectMesh } from \"../collection\";\nimport { Group } from \"../../group\";\nimport { handleGroupSize, handleGroupBackground } from \"../handles/group\";\n\n// 框选mesh\nexport function handleSelectionCollectMesh(selection, meshes) {\n    const collectionMeshes = [];\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        if (isBoxCollectMesh(mesh, selection.mesh)) {\n            mesh.focus();\n            mesh.hover();\n            mesh.inoperable();\n            collectionMeshes.push(mesh);\n        } else {\n            mesh.blur();\n            mesh.unHover();\n            mesh.operable();\n        }\n    }\n\n    return collectionMeshes;\n}\n\n// 创建框选组\nexport function handleCreateSelectionGroup({ collectMeshes, scene }) {\n    const { meshes: sceneMeshes } = scene;\n    const { x, y, width, height } = handleGroupSize(collectMeshes);\n    const backgroundImage = handleGroupBackground({\n        groupX: x,\n        groupY: y,\n        groupWidth: width,\n        groupHeight: height,\n        sceneMeshes\n    });\n    const group = new Group({ x, y, width, height, backgroundImage });\n\n    for (let i = 0; i < collectMeshes.length; i++) {\n        const collectMesh = collectMeshes[i];\n        for (let j = 0; j < sceneMeshes.length; j++) {\n            const sceneMesh = sceneMeshes[j];\n            if (sceneMesh === collectMesh) {\n                sceneMesh.blur();\n                sceneMesh.unHover();\n                group.add(collectMesh);\n                sceneMeshes.splice(j, 1);\n                j--;\n            }\n        }\n    }\n\n    group.temporary();\n    group.focus();\n    return group;\n}\n\n// 解开临时组\nexport function handleUntieGroup({ sceneMeshes, scene, originMesh }) {\n    for (let i = 0; i < sceneMeshes.length; i++) {\n        const sceneGroup = sceneMeshes[i];\n        // 存在临时组则解开\n        if (\n            sceneGroup !== originMesh &&\n            sceneGroup instanceof Group &&\n            sceneGroup.type.temporary\n        ) {\n            const scaleX = sceneGroup.style.width / sceneGroup.createWidth;\n            const scaleY = sceneGroup.style.height / sceneGroup.createHeight;\n\n            for (let j = 0; j < sceneGroup.meshes.length; j++) {\n                const mesh = sceneGroup.meshes[j];\n                const offsetX = mesh.position.x - sceneGroup.createX;\n                const offsetY = mesh.position.y - sceneGroup.createY;\n\n                mesh.setPosition(\n                    Math.round(sceneGroup.position.x + offsetX * scaleX),\n                    Math.round(sceneGroup.position.y + offsetY * scaleY)\n                );\n\n                mesh.setWidth(Math.round(mesh.style.width * scaleX));\n                mesh.setHeight(Math.round(mesh.style.height * scaleY));\n                scene.add(mesh);\n            }\n\n            sceneMeshes.splice(i, 1);\n            i--;\n        }\n    }\n}\n","import { isMouseCollectMesh } from \"../collection\";\n\nexport function handleHoverMesh(mouse, meshes) {\n    let hoverMesh = null;\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        const { isCollectContent } = isMouseCollectMesh(mouse, mesh);\n\n        mesh.unHover();\n        if (isCollectContent && !hoverMesh) {\n            hoverMesh = mesh;\n        }\n    }\n\n    if (hoverMesh) {\n        // 判断当前是否在组内\n        if (!hoverMesh.parent) {\n            hoverMesh.operable();\n        }\n\n        hoverMesh.hover();\n    }\n}\n","import { isMouseCollectMesh } from \"../collection\";\n\nexport function handleStartDragMesh(mouse, meshes) {\n    let startDragMesh = null;\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        const {\n            isCollectContent,\n            isCollectBorderCircular,\n            isCollectBorderRect\n        } = isMouseCollectMesh(mouse, mesh);\n\n        mesh.unHover();\n        mesh.blur();\n\n        if (\n            !startDragMesh &&\n            (isCollectContent || isCollectBorderCircular || isCollectBorderRect)\n        ) {\n            startDragMesh = mesh;\n        }\n    }\n\n    if (startDragMesh) {\n        // 判断当前是否在组内\n        if (!startDragMesh.parent) {\n            startDragMesh.operable();\n        }\n        startDragMesh.hover();\n        startDragMesh.focus();\n    }\n\n    return startDragMesh;\n}\n\nexport function handleDragMesh({\n    mouse,\n    mesh,\n    onDragMeshMove,\n    onDragMeshScale,\n    onDragMeshScaleX,\n    onDragMeshScaleY\n}) {\n    const {\n        isCollectBorderCircular,\n        isCollectTopBorderRect,\n        isCollectRightBorderRect,\n        isCollectBottomBorderRect,\n        isCollectLeftBorderRect\n    } = isMouseCollectMesh(mouse, mesh);\n\n    if (isCollectBorderCircular) {\n        onDragMeshScale(mesh);\n    } else if (isCollectLeftBorderRect || isCollectRightBorderRect) {\n        onDragMeshScaleX(mesh);\n    } else if (isCollectTopBorderRect || isCollectBottomBorderRect) {\n        onDragMeshScaleY(mesh);\n    } else {\n        onDragMeshMove(mesh);\n    }\n}\n","export function handleDragMeshScale(\n    mesh,\n    layerX,\n    layerY,\n    prevLayerX,\n    prevLayerY\n) {\n    const { x: centerX, y: centerY } = mesh.getCenterPosition();\n    const movementX = layerX - prevLayerX;\n    const movementY = layerY - prevLayerY;\n\n    // 左上\n    if (layerX < centerX && layerY < centerY) {\n        mesh.setX(layerX);\n        mesh.setY(layerY);\n        mesh.setWidth(mesh.style.width - movementX);\n        mesh.setHeight(mesh.style.height - movementY);\n    }\n    // 右上\n    else if (layerX > centerX && layerY < centerY) {\n        mesh.setX(layerX - mesh.style.width);\n        mesh.setY(layerY);\n        mesh.setWidth(mesh.style.width + movementX);\n        mesh.setHeight(mesh.style.height - movementY);\n    }\n    // 左下\n    else if (layerX < centerX && layerY > centerY) {\n        mesh.setX(layerX);\n        mesh.setY(layerY - mesh.style.height);\n        mesh.setWidth(mesh.style.width - movementX);\n        mesh.setHeight(mesh.style.height + movementY);\n    }\n    // 右下\n    else if (layerX > centerX && layerY > centerY) {\n        mesh.setX(layerX - mesh.style.width);\n        mesh.setY(layerY - mesh.style.height);\n        mesh.setWidth(mesh.style.width + movementX);\n        mesh.setHeight(mesh.style.height + movementY);\n    }\n}\n\nexport function handleDragMeshXScale(mesh, layerX, prevLayerX) {\n    const { x: centerX } = mesh.getCenterPosition();\n    const movementX = layerX - prevLayerX;\n\n    // 左\n    if (layerX < centerX) {\n        mesh.setX(layerX);\n        mesh.setWidth(mesh.style.width - movementX);\n    }\n    // 右\n    else if (layerX > centerX) {\n        mesh.setX(layerX - mesh.style.width);\n        mesh.setWidth(mesh.style.width + movementX);\n    }\n}\n\nexport function handleDragMeshYScale(mesh, layerY, prevLayerY) {\n    const { y: centerY } = mesh.getCenterPosition();\n    const movementY = layerY - prevLayerY;\n\n    // 上\n    if (layerY < centerY) {\n        mesh.setY(layerY);\n        mesh.setHeight(mesh.style.height - movementY);\n    }\n    // 下\n    else if (layerY > centerY) {\n        mesh.setY(layerY - mesh.style.height);\n        mesh.setHeight(mesh.style.height + movementY);\n    }\n}\n","export function handleMeshTop(meshes, topMesh) {\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        if (mesh === topMesh) {\n            meshes.splice(i, 1);\n            break;\n        }\n    }\n    meshes.push(topMesh);\n}\n","import { isMouseCollectMesh } from \"../collection\";\n\nexport function handleDbClickMesh(mouse, meshes) {\n    for (let i = 0; i < meshes.length; i++) {\n        const mesh = meshes[i];\n        const {\n            isCollectContent,\n            isCollectBorderCircular,\n            isCollectBorderRect\n        } = isMouseCollectMesh(mouse, mesh);\n\n        if (\n            isCollectContent ||\n            isCollectBorderCircular ||\n            isCollectBorderRect\n        ) {\n            return mesh;\n        }\n    }\n\n    return null;\n}\n\nexport function handleReplaceMeshBackgroundImage(mesh) {\n    return new Promise((resolve) => {\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.click();\n        input.onchange = () => {\n            const file = input.files[0];\n            const reader = new FileReader();\n            reader.onload = () => {\n                const img = new Image();\n                img.src = reader.result;\n                img.onload = () => {\n                    mesh.setBackgroundImage(img);\n                    mesh.setWidth(img.width);\n                    mesh.setHeight(img.height);\n                    resolve();\n                };\n            };\n            reader.readAsDataURL(file);\n        };\n    });\n}\n","import { Selection } from \"../utils/services/selection\";\nimport { AdsorptionLine } from \"../utils/services/adsorption-line\";\nimport { MeshTransform } from \"../utils/services/mesh-transform\";\n\nimport {\n    handleSelectionCollectMesh,\n    handleCreateSelectionGroup,\n    handleUntieGroup\n} from \"../utils/handles/selection-collect-mesh\";\nimport { handleHoverMesh } from \"../utils/handles/hover-mesh\";\nimport {\n    handleStartDragMesh,\n    handleDragMesh\n} from \"../utils/handles/drag-mesh\";\nimport {\n    handleDragMeshScale,\n    handleDragMeshXScale,\n    handleDragMeshYScale\n} from \"../utils/handles/drag-mesh-scale\";\nimport { handleMeshTop } from \"../utils/handles/mesh-top\";\nimport {\n    handleDbClickMesh,\n    handleReplaceMeshBackgroundImage\n} from \"../utils/handles/dbclick-mesh\";\n\nexport const mouseHoverPlugin = {\n    install(renderer) {\n        const { scene, canvas, $parent } = renderer;\n        const { meshes: sceneMeshes } = scene;\n        const { width, height } = scene.style;\n        let mousedown,\n            prevMousedownLeft,\n            prevMousedownTop,\n            dragMesh,\n            dragTransformMesh,\n            dragScaleMesh,\n            dragScaleXMesh,\n            dragScaleYMesh;\n\n        function clear() {\n            mousedown = false;\n            prevMousedownLeft = null;\n            prevMousedownTop = null;\n            dragMesh = null;\n            dragTransformMesh = null;\n            dragScaleMesh = null;\n            dragScaleXMesh = null;\n            dragScaleYMesh = null;\n        }\n\n        clear();\n        const selection = new Selection({ width, height, $parent });\n        const adsorptionLine = new AdsorptionLine({ width, height, $parent });\n        const meshTransform = new MeshTransform();\n\n        document.addEventListener(\"mousedown\", (v) => {\n            mousedown = true;\n            selection.ready(v.layerX, v.layerY);\n            adsorptionLine.ready();\n\n            // 鼠标按下mesh\n            dragMesh = handleStartDragMesh(v, sceneMeshes);\n\n            // 置顶元素\n            if (dragMesh) {\n                handleMeshTop(sceneMeshes, dragMesh);\n            }\n\n            // 解除临时组\n            if (sceneMeshes.length) {\n                handleUntieGroup({ sceneMeshes, scene, originMesh: dragMesh });\n            }\n\n            renderer.render();\n        });\n\n        canvas.addEventListener(\"mousemove\", (v) => {\n            if (!dragMesh) {\n                if (mousedown) {\n                    // 框选选中的mesh\n                    const collectMeshes = handleSelectionCollectMesh(\n                        selection,\n                        sceneMeshes\n                    );\n\n                    // 更新框选层的样式\n                    selection.update(v.layerX, v.layerY, collectMeshes);\n                } else {\n                    // 鼠标选中的mesh\n                    handleHoverMesh(v, sceneMeshes);\n                }\n            } else {\n                // 拖拽mesh做xy轴缩放\n                if (dragScaleMesh) {\n                    handleDragMeshScale(\n                        dragScaleMesh,\n                        v.layerX,\n                        v.layerY,\n                        prevMousedownLeft,\n                        prevMousedownTop\n                    );\n                }\n                // 拖拽mesh做x轴缩放\n                else if (dragScaleXMesh) {\n                    handleDragMeshXScale(\n                        dragScaleXMesh,\n                        v.layerX,\n                        prevMousedownLeft\n                    );\n                }\n                // 拖拽mesh做y轴缩放\n                else if (dragScaleYMesh) {\n                    handleDragMeshYScale(\n                        dragScaleYMesh,\n                        v.layerY,\n                        prevMousedownTop\n                    );\n                }\n                // 拖拽mesh做移动\n                else if (dragTransformMesh) {\n                    meshTransform.handleDragMeshTransform({\n                        mouse: v,\n                        mesh: dragTransformMesh,\n                        prevMousedownLeft,\n                        prevMousedownTop,\n                        onTransform(mesh) {\n                            // 更新吸附线\n                            const { x, y, xType, yType } =\n                                adsorptionLine.update({\n                                    originMesh: mesh,\n                                    targets: sceneMeshes.concat(scene)\n                                });\n\n                            return {\n                                x,\n                                y,\n                                xType,\n                                yType\n                            };\n                        }\n                    });\n                } else {\n                    // 拖拽mesh\n                    handleDragMesh({\n                        mouse: v,\n                        mesh: dragMesh,\n                        onDragMeshMove() {\n                            dragTransformMesh = dragMesh;\n                        },\n                        onDragMeshScale() {\n                            dragScaleMesh = dragMesh;\n                        },\n                        onDragMeshScaleX() {\n                            dragScaleXMesh = dragMesh;\n                        },\n                        onDragMeshScaleY() {\n                            dragScaleYMesh = dragMesh;\n                        }\n                    });\n                }\n            }\n\n            prevMousedownLeft = v.layerX;\n            prevMousedownTop = v.layerY;\n            renderer.render();\n        });\n\n        document.addEventListener(\"dblclick\", (v) => {\n            const dbClickMesh = handleDbClickMesh(v, sceneMeshes);\n            if (dbClickMesh) {\n                // 双击替换图片\n                handleReplaceMeshBackgroundImage(dbClickMesh).then(() =>\n                    renderer.render()\n                );\n            }\n        });\n\n        document.addEventListener(\"keydown\", (v) => {\n            // 删除\n            if (v.code === \"Backspace\") {\n                for (let i = 0; i < sceneMeshes.length; i++) {\n                    const sceneMesh = sceneMeshes[i];\n                    if (sceneMesh.type.focus) {\n                        sceneMeshes.splice(i, 1);\n                        break;\n                    }\n                }\n                renderer.render();\n            }\n        });\n\n        document.addEventListener(\"mouseup\", () => {\n            clear();\n            meshTransform.clear();\n            selection.hide();\n            adsorptionLine.hide();\n\n            const { collectMeshes } = selection;\n            if (collectMeshes.length) {\n                const group = handleCreateSelectionGroup({\n                    collectMeshes,\n                    scene\n                });\n                scene.add(group);\n            }\n\n            renderer.render();\n        });\n    }\n};\n\nexport const mousePlugins = [mouseHoverPlugin];\n","import { render } from \"./index.vue?vue&type=template&id=71004c33\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=71004c33&lang=less\"\n\nimport exportComponent from \"/Users/lingmao/Desktop/editor/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\nimport Home from \"../views/home/index.vue\";\n\nconst routes = [\n    {\n        path: \"/\",\n        name: \"home\",\n        component: Home\n    }\n];\n\nconst router = createRouter({\n    history: createWebHashHistory(process.env.BASE_URL),\n    routes\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(store).use(router).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkeditor\"] = self[\"webpackChunkeditor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1545); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","class","_createElementVNode","src","ref","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","$setup","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","Renderer","constructor","options","plugins","scene","camera","$parent","document","body","this","canvas","createElement","width","style","height","ctx","getContext","appendChild","installPlugin","i","length","plugin","install","clear","backgroundColor","fillStyle","fillRect","clearRect","meshes","mesh","Camera","Scene","x","y","position","add","push","getCenterPosition","getRightPosition","drawCircular","radius","radians","beginPath","arc","fill","stroke","drawRect","strokeRect","Mesh","minWidth","minHeight","backgroundImage","borderWidth","borderColor","borderRectWidth","borderRectHeight","operable","type","focus","hover","setPosition","setX","setY","scale","scaleX","scaleY","s","setWidth","setHeight","setBackgroundImage","transform","transformX","transformY","move","unHover","blur","inoperable","renderBorder","rightX","bottomY","moveTo","lineTo","strokeStyle","lineWidth","closePath","centerX","centerY","Math","PI","renderBackgroundImage","drawImage","Selection","renderer","top","left","zIndex","pointerEvents","collectMeshes","ready","mousedownLeft","mousedownTop","display","update","layerX","layerY","w","h","hide","ADSORPTION_DISTANCE","BREAK_ADSORPTION_DISTANCE","AdsorptionLine","meshX","meshY","updateAdsorptionX","originX","originCenterX","originRightX","targetX","targetCenterX","targetRightX","xType","abs","updateAdsorptionY","originY","originCenterY","originRightY","targetY","targetCenterY","targetRightY","yType","originMesh","targets","target","resultX","resultY","getTransformX","targetMeshX","originMeshX","originMeshWidth","getTransformY","targetMeshY","originMeshY","originMeshHeight","MeshTransform","offsetX","offsetY","handleDragMeshTransform","mouse","prevMousedownLeft","prevMousedownTop","onTransform","transformDragX","transformDragY","distanceX","distanceY","transformAdsorptionX","transformAdsorptionY","isCollectCircular","pow","isCollectRect","targetWidth","targetHeight","isMouseCollectMesh","leftX","topY","isCollectContent","isCollectTopBorderRect","isCollectRightBorderRect","isCollectBottomBorderRect","isCollectLeftBorderRect","isCollectBorderRect","isCollectBorderLeftTopCircular","isCollectBorderRightTopCircular","isCollectBorderRightBottomCircular","isCollectBorderLeftBottomCircular","isCollectBorderCircular","isBoxCollectMesh","mesh1","mesh2","points","point","Group","super","createWidth","createHeight","createX","createY","temporary","permanent","handleGroupSize","right","bottom","min","max","handleGroupBackground","groupX","groupY","groupWidth","groupHeight","sceneMeshes","sceneMesh","handleSelectionCollectMesh","selection","collectionMeshes","handleCreateSelectionGroup","group","collectMesh","j","splice","handleUntieGroup","sceneGroup","round","handleHoverMesh","hoverMesh","parent","handleStartDragMesh","startDragMesh","handleDragMesh","onDragMeshMove","onDragMeshScale","onDragMeshScaleX","onDragMeshScaleY","handleDragMeshScale","prevLayerX","prevLayerY","movementX","movementY","handleDragMeshXScale","handleDragMeshYScale","handleMeshTop","topMesh","handleDbClickMesh","handleReplaceMeshBackgroundImage","Promise","resolve","input","click","onchange","file","files","reader","FileReader","onload","img","Image","result","readAsDataURL","mouseHoverPlugin","mousedown","dragMesh","dragTransformMesh","dragScaleMesh","dragScaleXMesh","dragScaleYMesh","adsorptionLine","meshTransform","addEventListener","v","concat","dbClickMesh","then","code","mousePlugins","name","setup","image","n","handleAddMesh","handleDownload","url","toDataURL","a","download","href","onMounted","setAttribute","value","routes","path","component","Home","router","createRouter","history","createWebHashHistory","process","createStore","state","getters","mutations","actions","modules","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","key","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}